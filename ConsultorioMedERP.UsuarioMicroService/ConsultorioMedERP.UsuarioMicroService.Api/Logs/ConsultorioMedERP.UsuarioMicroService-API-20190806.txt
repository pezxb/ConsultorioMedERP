===> 2019-08-06 12:43:19.264 -07:00 [Information] Starting web host
===> 2019-08-06 12:43:19.808 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 12:43:19.847 -07:00 [Debug] Repository contains no viable default key. Caller should generate a key with immediate activation.
===> 2019-08-06 12:43:19.848 -07:00 [Debug] Policy resolution states that a new key should be added to the key ring.
===> 2019-08-06 12:43:19.858 -07:00 [Information] Creating key {00b30dfd-315e-4959-a5d7-40fc2d576189} with creation date 2019-08-06 19:43:19Z, activation date 2019-08-06 19:43:19Z, and expiration date 2019-11-04 19:43:19Z.
===> 2019-08-06 12:43:19.901 -07:00 [Debug] Descriptor deserializer type for key {00b30dfd-315e-4959-a5d7-40fc2d576189} is '"Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60"'.
===> 2019-08-06 12:43:19.911 -07:00 [Debug] No key escrow sink found. Not writing key {00b30dfd-315e-4959-a5d7-40fc2d576189} to escrow.
===> 2019-08-06 12:43:19.918 -07:00 [Debug] Encrypting to Windows DPAPI for local machine account.
===> 2019-08-06 12:43:19.940 -07:00 [Debug] Key cache expiration token triggered by '"CreateNewKey"' operation.
===> 2019-08-06 12:43:19.951 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 12:43:19.969 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 12:43:19.977 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 12:43:20.044 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:43:20.048 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 12:43:20.051 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:43:20.061 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 12:43:20.070 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 12:43:20.087 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 12:43:20.093 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 12:43:20.285 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 12:43:20.387 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 12:43:20.388 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:43:20.388 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:43:20.389 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 12:43:20.389 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 12:43:20.389 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 12:43:20.394 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 12:43:20.395 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 12:43:20.485 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:43:20.486 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:43:20.486 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:43:20.501 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:43:20.501 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:43:20.501 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:43:20.556 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 12:43:20.685 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:43:20.686 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:43:20.770 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 12:43:21.250 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 12:43:21.322 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 12:43:23.270 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "using lazy-loading proxies "
===> 2019-08-06 12:43:23.402 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP.UsuarioMicroService"' on server '".\SQLEXPRESS"'.
===> 2019-08-06 12:43:38.404 -07:00 [Debug] An error occurred using the connection to database '"ConsultorioMedERP.UsuarioMicroService"' on server '".\SQLEXPRESS"'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
===> 2019-08-06 12:44:01.957 -07:00 [Information] Starting web host
===> 2019-08-06 12:44:02.204 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 12:44:02.243 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 12:44:02.257 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 12:44:02.280 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 12:44:02.310 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:44:02.318 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 12:44:02.323 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:44:02.340 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 12:44:02.351 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 12:44:02.368 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 12:44:02.370 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 12:44:02.416 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 12:44:02.495 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:02.496 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:02.496 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:02.497 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 12:44:02.499 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:02.499 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:02.500 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 12:44:02.500 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:02.548 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:44:02.548 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:44:02.549 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:44:02.570 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:44:02.570 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:44:02.570 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:44:02.583 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 12:44:02.637 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:44:02.637 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:44:02.712 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 12:44:02.994 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 12:44:03.092 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 12:44:04.303 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "using lazy-loading proxies "
===> 2019-08-06 12:44:04.355 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP.UsuarioMicroService"' on server '".\SQLEXPRESS"'.
===> 2019-08-06 12:44:19.119 -07:00 [Debug] An error occurred using the connection to database '"ConsultorioMedERP.UsuarioMicroService"' on server '".\SQLEXPRESS"'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:-1,State:0,Class:20
===> 2019-08-06 12:44:19.157 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:44:19.205 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 12:44:19.669 -07:00 [Debug] Connection id ""0HLOQKPSJ19GO"" started.
===> 2019-08-06 12:44:19.873 -07:00 [Debug] Connection id ""0HLOQKPSJ19GP"" started.
===> 2019-08-06 12:44:19.874 -07:00 [Debug] Connection id ""0HLOQKPSJ19GQ"" started.
===> 2019-08-06 12:44:20.042 -07:00 [Error] Connection id ""0HLOQKPSJ19GO"", Request id ""0HLOQKPSJ19GO:00000001"": An unhandled exception was thrown by the application.
System.ArgumentNullException: Value cannot be null.
Parameter name: values
   at System.String.Join(String separator, IEnumerable`1 values)
   at Microsoft.Extensions.RazorViews.BaseView.EndWriteAttribute()
   at Microsoft.AspNetCore.Hosting.Views.ErrorPage.ExecuteAsync()
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
===> 2019-08-06 12:44:20.042 -07:00 [Error] Connection id ""0HLOQKPSJ19GQ"", Request id ""0HLOQKPSJ19GQ:00000001"": An unhandled exception was thrown by the application.
System.ArgumentNullException: Value cannot be null.
Parameter name: values
   at System.String.Join(String separator, IEnumerable`1 values)
   at Microsoft.Extensions.RazorViews.BaseView.EndWriteAttribute()
   at Microsoft.AspNetCore.Hosting.Views.ErrorPage.ExecuteAsync()
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
===> 2019-08-06 12:44:20.083 -07:00 [Error] Connection id ""0HLOQKPSJ19GP"", Request id ""0HLOQKPSJ19GP:00000001"": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot write to the response body, the response has completed.
Object name: 'HttpResponseStream'.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.<ValidateState>g__ThrowObjectDisposedException|24_0()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.StreamWriter.Flush(Boolean flushStream, Boolean flushEncoder)
   at System.IO.StreamWriter.Write(String value)
   at Microsoft.AspNetCore.Hosting.Views.ErrorPage.ExecuteAsync()
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
===> 2019-08-06 12:44:20.131 -07:00 [Debug] Connection id ""0HLOQKPSJ19GP"" completed keep alive response.
===> 2019-08-06 12:44:20.131 -07:00 [Debug] Connection id ""0HLOQKPSJ19GO"" completed keep alive response.
===> 2019-08-06 12:44:20.131 -07:00 [Debug] Connection id ""0HLOQKPSJ19GQ"" completed keep alive response.
===> 2019-08-06 12:44:33.569 -07:00 [Information] Starting web host
===> 2019-08-06 12:44:33.978 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 12:44:34.015 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 12:44:34.042 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 12:44:34.068 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 12:44:34.188 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:44:34.196 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 12:44:34.205 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:44:34.216 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 12:44:34.222 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 12:44:34.234 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 12:44:34.236 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 12:44:34.351 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 12:44:34.449 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:34.449 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:34.450 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:34.450 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 12:44:34.450 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:34.451 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:34.451 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 12:44:34.451 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 12:44:34.502 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:44:34.502 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:44:34.503 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:44:34.524 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:44:34.524 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:44:34.524 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:44:34.594 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 12:44:34.670 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:44:34.670 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:44:34.740 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 12:44:35.238 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 12:44:35.336 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 12:44:36.815 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-70026385-0d8a-4c15-833d-30b35f818c01 using lazy-loading proxies "
===> 2019-08-06 12:44:37.025 -07:00 [Debug] Compiling query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:44:37.070 -07:00 [Debug] Optimized query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:44:37.277 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: Account))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:44:37.703 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:44:37.865 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:44:37.880 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:37.937 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:37.944 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:37.944 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:37.947 -07:00 [Debug] Unchanged '"Account"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:44:37.960 -07:00 [Debug] Unchanged '"Account"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:44:37.960 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:37.993 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:44:38.004 -07:00 [Debug] An '"Account"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:44:38.009 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:44:38.010 -07:00 [Debug] Compiling query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:44:38.017 -07:00 [Debug] Optimized query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:44:38.021 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: User))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:44:38.050 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:44:38.105 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:44:38.108 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:38.125 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:38.125 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:38.125 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:38.126 -07:00 [Debug] Unchanged '"User"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:44:38.130 -07:00 [Debug] Unchanged '"User"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:44:38.130 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:44:38.132 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:44:38.134 -07:00 [Debug] An '"User"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:44:38.135 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:44:38.140 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:44:38.324 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 12:44:38.766 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" started.
===> 2019-08-06 12:44:39.071 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" started.
===> 2019-08-06 12:44:39.199 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:44:39.200 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:44:39.351 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" completed keep alive response.
===> 2019-08-06 12:44:39.374 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:44:39.777 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:44:39.809 -07:00 [Debug] The request path "" does not match the path filter
===> 2019-08-06 12:44:39.810 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" completed keep alive response.
===> 2019-08-06 12:44:43.632 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:44:43.634 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:44:43.923 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" completed keep alive response.
===> 2019-08-06 12:44:44.008 -07:00 [Debug] Connection id ""0HLOQKQ29ALDF"" started.
===> 2019-08-06 12:44:44.014 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:44:44.014 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:44:44.014 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:44:44.014 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:44:44.019 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:44:44.019 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:44:44.047 -07:00 [Information] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
===> 2019-08-06 12:44:44.047 -07:00 [Information] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
===> 2019-08-06 12:44:44.047 -07:00 [Information] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
===> 2019-08-06 12:44:44.118 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" completed keep alive response.
===> 2019-08-06 12:44:44.119 -07:00 [Debug] Connection id ""0HLOQKQ29ALDF"" completed keep alive response.
===> 2019-08-06 12:44:44.136 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" completed keep alive response.
===> 2019-08-06 12:44:44.462 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:44:44.462 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:44:44.526 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:44:44.526 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:44:44.527 -07:00 [Information] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
===> 2019-08-06 12:44:44.527 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" completed keep alive response.
===> 2019-08-06 12:44:44.652 -07:00 [Debug] Connection id ""0HLOQKQ29ALDF"" completed keep alive response.
===> 2019-08-06 12:46:09.584 -07:00 [Debug] Connection id ""0HLOQKQ29ALDF"" received FIN.
===> 2019-08-06 12:46:09.584 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" received FIN.
===> 2019-08-06 12:46:09.584 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" received FIN.
===> 2019-08-06 12:46:09.594 -07:00 [Debug] Connection id ""0HLOQKQ29ALDF"" disconnecting.
===> 2019-08-06 12:46:09.594 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" disconnecting.
===> 2019-08-06 12:46:09.598 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" disconnecting.
===> 2019-08-06 12:46:09.601 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 12:46:09.601 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 12:46:09.601 -07:00 [Debug] Connection id ""0HLOQKQ29ALDF"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 12:46:09.609 -07:00 [Debug] Connection id ""0HLOQKQ29ALDE"" stopped.
===> 2019-08-06 12:46:09.610 -07:00 [Debug] Connection id ""0HLOQKQ29ALDD"" stopped.
===> 2019-08-06 12:46:09.609 -07:00 [Debug] Connection id ""0HLOQKQ29ALDF"" stopped.
===> 2019-08-06 12:46:48.104 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"" started.
===> 2019-08-06 12:46:48.108 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:46:48.129 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 12:46:48.131 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 12:46:48.132 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 12:46:48.145 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 12:46:48.358 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 12:46:48.371 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 12:46:48.376 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:46:48.377 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 12:46:48.379 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 12:46:48.381 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:46:48.470 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 12:46:48.504 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 12:46:48.508 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:46:48.525 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:46:48.592 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"", Request id ""0HLOQKQ29ALDG:00000001"": started reading request body.
===> 2019-08-06 12:46:48.613 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"", Request id ""0HLOQKQ29ALDG:00000001"": done reading request body.
===> 2019-08-06 12:46:48.623 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 12:46:48.624 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 12:46:48.687 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 12:46:48.712 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-8fb072f0-659f-4c22-8d93-0a6e9657adaa using lazy-loading proxies "
===> 2019-08-06 12:46:48.839 -07:00 [Debug] Compiling query model: "
"'"from User x in DbSet<User>
where [x].UserName == __login_Username_0
select [x]"'
===> 2019-08-06 12:46:48.875 -07:00 [Debug] Optimized query model: "
"'"from User x in DbSet<User>
where [x].UserName == __login_Username_0
select [x]"'
===> 2019-08-06 12:46:48.939 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<User> _InterceptExceptions(
|__ source: IEnumerable<User> _TrackEntities(
|   |__ results: IEnumerable<User> _Where(
|   |   |__ source: IEnumerable<User> EntityQuery(
|   |   |   |__ queryContext: queryContext, 
|   |   |   |__ entityType: EntityType: User, 
|   |   |   |__ key: Key: User.Id PK, 
|   |   |   |__ materializer: (IEntityType entityType | MaterializationContext materializationContext) => 
|   |   |   |   {
|   |   |   |       instance = (UserProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |   |   |       |__ entityType: EntityType: User, 
|   |   |   |       |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |   |   |       |__ constructorArguments: new object[]{ })
|   |   |   |       instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, User.Id)
|   |   |   |       instance.<AccountId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, User.AccountId)
|   |   |   |       instance.<Created>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, User.Created)
|   |   |   |       instance.<Description>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, User.Description)
|   |   |   |       instance.<Email>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, User.Email)
|   |   |   |       instance.<FirstName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 5, User.FirstName)
|   |   |   |       instance.<IsActive>k__BackingField = bool TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 6, User.IsActive)
|   |   |   |       instance.<IsAdminRole>k__BackingField = bool TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 7, User.IsAdminRole)
|   |   |   |       instance.<LastName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 8, User.LastName)
|   |   |   |       instance.<Modified>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 9, User.Modified)
|   |   |   |       instance.<Password>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 10, User.Password)
|   |   |   |       instance.<Roles>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 11, User.Roles)
|   |   |   |       instance.<RowVersion>k__BackingField = byte[] TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 12, User.RowVersion)
|   |   |   |       instance.<UserName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 13, User.UserName)
|   |   |   |       return instance
|   |   |   |   }, 
|   |   |   |__ queryStateManager: True), 
|   |   |__ predicate: (User x) => x.UserName == string GetParameterValue(
|   |       |__ queryContext: queryContext, 
|   |       |__ parameterName: \"__login_Username_0\")), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: List<EntityTrackingInfo> 
|   |   { 
|   |       EntityTrackingInfo, 
|   |   }, 
|   |__ entityAccessors: List<Func<User, object>> 
|       { 
|           Func<User, User>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:46:48.955 -07:00 [Information] Executed action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)", returned result "Microsoft.AspNetCore.Mvc.UnauthorizedResult" in 259.6565ms.
===> 2019-08-06 12:46:48.973 -07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
===> 2019-08-06 12:46:48.985 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 597.0841ms
===> 2019-08-06 12:46:49.003 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"" completed keep alive response.
===> 2019-08-06 12:46:49.004 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:47:59.575 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"" received FIN.
===> 2019-08-06 12:47:59.580 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 12:47:59.590 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"" disconnecting.
===> 2019-08-06 12:47:59.604 -07:00 [Debug] Connection id ""0HLOQKQ29ALDG"" stopped.
===> 2019-08-06 12:48:12.571 -07:00 [Information] Starting web host
===> 2019-08-06 12:48:12.927 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 12:48:12.972 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 12:48:13.025 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 12:48:13.053 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 12:48:13.096 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:48:13.101 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 12:48:13.104 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:48:13.112 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 12:48:13.125 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 12:48:13.144 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 12:48:13.148 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 12:48:13.286 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 12:48:13.404 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:13.404 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:13.405 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:13.407 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 12:48:13.408 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:13.408 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:13.410 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 12:48:13.410 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:13.494 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:48:13.494 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:48:13.494 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:48:13.509 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:48:13.509 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:48:13.509 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:48:13.534 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 12:48:13.642 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:48:13.643 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:48:13.728 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 12:48:14.142 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 12:48:14.271 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 12:48:16.313 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-3761aaf7-d60d-4a6c-82a7-dd2b079ce130 using lazy-loading proxies "
===> 2019-08-06 12:48:16.834 -07:00 [Debug] Compiling query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:16.947 -07:00 [Debug] Optimized query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:17.115 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: Account))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:48:17.644 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:17.800 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:17.807 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:17.866 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:17.879 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:17.879 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:17.881 -07:00 [Debug] Unchanged '"Account"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:48:17.892 -07:00 [Debug] Unchanged '"Account"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:48:17.893 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:17.925 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:48:17.943 -07:00 [Debug] An '"Account"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:17.948 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:48:17.950 -07:00 [Debug] Compiling query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:17.951 -07:00 [Debug] Optimized query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:17.955 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: User))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:48:17.984 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:18.054 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:18.063 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:18.073 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:18.074 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:18.075 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:18.075 -07:00 [Debug] Unchanged '"User"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:48:18.077 -07:00 [Debug] Unchanged '"User"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:48:18.078 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:18.079 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:48:18.080 -07:00 [Debug] An '"User"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:18.080 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:48:18.084 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:48:18.327 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 12:48:18.817 -07:00 [Debug] Connection id ""0HLOQKS3RL79H"" started.
===> 2019-08-06 12:48:19.060 -07:00 [Debug] Connection id ""0HLOQKS3RL79I"" started.
===> 2019-08-06 12:48:19.222 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:48:19.222 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:48:19.441 -07:00 [Debug] Connection id ""0HLOQKS3RL79I"" completed keep alive response.
===> 2019-08-06 12:48:19.451 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:48:19.969 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:48:20.038 -07:00 [Debug] The request path "" does not match the path filter
===> 2019-08-06 12:48:20.042 -07:00 [Debug] Connection id ""0HLOQKS3RL79H"" completed keep alive response.
===> 2019-08-06 12:48:54.586 -07:00 [Information] Starting web host
===> 2019-08-06 12:48:54.830 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 12:48:54.870 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 12:48:54.950 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 12:48:55.133 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 12:48:55.533 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:48:55.548 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 12:48:55.557 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:48:55.604 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 12:48:55.627 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 12:48:55.665 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 12:48:55.668 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 12:48:55.790 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 12:48:55.952 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:55.952 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:55.954 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:55.955 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 12:48:55.956 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:55.956 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:55.956 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 12:48:55.957 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 12:48:56.083 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:48:56.083 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:48:56.084 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:48:56.106 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:48:56.111 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:48:56.111 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:48:56.156 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 12:48:56.285 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:48:56.285 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:48:56.387 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 12:48:56.853 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 12:48:56.970 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 12:48:58.523 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-0ccc39fb-5d99-4de7-9599-e07ebab8f6b9 using lazy-loading proxies "
===> 2019-08-06 12:48:58.689 -07:00 [Debug] Compiling query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:58.772 -07:00 [Debug] Optimized query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:58.952 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: Account))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:48:59.456 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:59.832 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:59.838 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:59.874 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:59.877 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:59.878 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:59.880 -07:00 [Debug] Unchanged '"Account"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:48:59.893 -07:00 [Debug] Unchanged '"Account"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:48:59.894 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:48:59.933 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:48:59.958 -07:00 [Debug] An '"Account"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:48:59.967 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:48:59.970 -07:00 [Debug] Compiling query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:59.970 -07:00 [Debug] Optimized query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:48:59.973 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: User))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:49:00.007 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:49:00.073 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:49:00.074 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:49:00.091 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:49:00.091 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:49:00.091 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:49:00.092 -07:00 [Debug] Unchanged '"User"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:49:00.093 -07:00 [Debug] Unchanged '"User"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:49:00.093 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:49:00.095 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:49:00.101 -07:00 [Debug] An '"User"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:49:00.101 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:49:00.104 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:49:00.317 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 12:49:00.776 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" started.
===> 2019-08-06 12:49:00.976 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" started.
===> 2019-08-06 12:49:01.121 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:49:01.121 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:49:01.462 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:01.525 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" completed keep alive response.
===> 2019-08-06 12:49:02.171 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:49:02.408 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" completed keep alive response.
===> 2019-08-06 12:49:02.479 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"" started.
===> 2019-08-06 12:49:02.494 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:02.495 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:02.495 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:02.495 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:49:02.495 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:49:02.495 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:49:02.590 -07:00 [Information] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
===> 2019-08-06 12:49:02.590 -07:00 [Information] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
===> 2019-08-06 12:49:02.590 -07:00 [Information] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
===> 2019-08-06 12:49:02.698 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"" completed keep alive response.
===> 2019-08-06 12:49:02.698 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" completed keep alive response.
===> 2019-08-06 12:49:02.698 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" completed keep alive response.
===> 2019-08-06 12:49:03.202 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:03.203 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:49:03.309 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:03.309 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:49:03.309 -07:00 [Information] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
===> 2019-08-06 12:49:03.310 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"" completed keep alive response.
===> 2019-08-06 12:49:03.525 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" completed keep alive response.
===> 2019-08-06 12:49:47.566 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:47.579 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 12:49:47.581 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 12:49:47.581 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 12:49:47.593 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 12:49:47.747 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 12:49:47.752 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 12:49:47.754 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:49:47.756 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 12:49:47.757 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 12:49:47.758 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:49:47.819 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 12:49:47.832 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 12:49:47.834 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:49:47.841 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:49:47.882 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"", Request id ""0HLOQKSGBS5I5:00000003"": started reading request body.
===> 2019-08-06 12:49:47.907 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"", Request id ""0HLOQKSGBS5I5:00000003"": done reading request body.
===> 2019-08-06 12:49:47.919 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 12:49:47.921 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 12:49:47.978 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 12:49:47.986 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-526383ae-0476-4722-bd0c-847af3fd2f00 using lazy-loading proxies "
===> 2019-08-06 12:49:48.068 -07:00 [Debug] Compiling query model: "
"'"from User x in DbSet<User>
where [x].UserName == __login_Username_0
select [x]"'
===> 2019-08-06 12:49:48.092 -07:00 [Debug] Optimized query model: "
"'"from User x in DbSet<User>
where [x].UserName == __login_Username_0
select [x]"'
===> 2019-08-06 12:49:48.137 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<User> _InterceptExceptions(
|__ source: IEnumerable<User> _TrackEntities(
|   |__ results: IEnumerable<User> _Where(
|   |   |__ source: IEnumerable<User> EntityQuery(
|   |   |   |__ queryContext: queryContext, 
|   |   |   |__ entityType: EntityType: User, 
|   |   |   |__ key: Key: User.Id PK, 
|   |   |   |__ materializer: (IEntityType entityType | MaterializationContext materializationContext) => 
|   |   |   |   {
|   |   |   |       instance = (UserProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |   |   |       |__ entityType: EntityType: User, 
|   |   |   |       |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |   |   |       |__ constructorArguments: new object[]{ })
|   |   |   |       instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, User.Id)
|   |   |   |       instance.<AccountId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, User.AccountId)
|   |   |   |       instance.<Created>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, User.Created)
|   |   |   |       instance.<Description>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, User.Description)
|   |   |   |       instance.<Email>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, User.Email)
|   |   |   |       instance.<FirstName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 5, User.FirstName)
|   |   |   |       instance.<IsActive>k__BackingField = bool TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 6, User.IsActive)
|   |   |   |       instance.<IsAdminRole>k__BackingField = bool TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 7, User.IsAdminRole)
|   |   |   |       instance.<LastName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 8, User.LastName)
|   |   |   |       instance.<Modified>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 9, User.Modified)
|   |   |   |       instance.<Password>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 10, User.Password)
|   |   |   |       instance.<Roles>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 11, User.Roles)
|   |   |   |       instance.<RowVersion>k__BackingField = byte[] TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 12, User.RowVersion)
|   |   |   |       instance.<UserName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 13, User.UserName)
|   |   |   |       return instance
|   |   |   |   }, 
|   |   |   |__ queryStateManager: True), 
|   |   |__ predicate: (User x) => x.UserName == string GetParameterValue(
|   |       |__ queryContext: queryContext, 
|   |       |__ parameterName: \"__login_Username_0\")), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: List<EntityTrackingInfo> 
|   |   { 
|   |       EntityTrackingInfo, 
|   |   }, 
|   |__ entityAccessors: List<Func<User, object>> 
|       { 
|           Func<User, User>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:49:48.149 -07:00 [Information] Executed action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)", returned result "Microsoft.AspNetCore.Mvc.UnauthorizedResult" in 167.2895ms.
===> 2019-08-06 12:49:48.161 -07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
===> 2019-08-06 12:49:48.170 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 408.3901ms
===> 2019-08-06 12:49:48.180 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" completed keep alive response.
===> 2019-08-06 12:49:48.181 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:49:56.806 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:49:56.807 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 12:49:56.808 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 12:49:56.808 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 12:49:56.808 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 12:49:56.812 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 12:49:56.812 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 12:49:56.812 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:49:56.812 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 12:49:56.813 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 12:49:56.813 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:49:56.815 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 12:49:56.815 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 12:49:56.816 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:49:56.816 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:49:56.817 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"", Request id ""0HLOQKSGBS5I6:00000003"": started reading request body.
===> 2019-08-06 12:49:56.820 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"", Request id ""0HLOQKSGBS5I6:00000003"": done reading request body.
===> 2019-08-06 12:49:56.820 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 12:49:56.820 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 12:49:56.823 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 12:49:56.825 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-48e5843e-7a3b-42c6-afea-670e0382dabc using lazy-loading proxies "
===> 2019-08-06 12:49:56.834 -07:00 [Information] Executed action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)", returned result "Microsoft.AspNetCore.Mvc.UnauthorizedResult" in 10.2131ms.
===> 2019-08-06 12:49:56.834 -07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
===> 2019-08-06 12:49:56.835 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 21.7664ms
===> 2019-08-06 12:49:56.836 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"" completed keep alive response.
===> 2019-08-06 12:49:56.836 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:50:54.817 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" received FIN.
===> 2019-08-06 12:50:54.819 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" received FIN.
===> 2019-08-06 12:50:54.819 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:50:54.819 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 12:50:54.819 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 12:50:54.820 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 12:50:54.820 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 12:50:54.820 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 12:50:54.820 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 12:50:54.820 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:50:54.821 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 12:50:54.821 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 12:50:54.821 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:50:54.822 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 12:50:54.822 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 12:50:54.823 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:50:54.823 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:50:54.823 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"", Request id ""0HLOQKSGBS5I6:00000004"": started reading request body.
===> 2019-08-06 12:50:54.835 -07:00 [Debug] Connection id ""0HLOQKSGBS5I6"", Request id ""0HLOQKSGBS5I6:00000004"": done reading request body.
===> 2019-08-06 12:50:54.835 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 12:50:54.836 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 12:50:54.836 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 12:50:59.767 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" disconnecting.
===> 2019-08-06 12:50:59.769 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" disconnecting.
===> 2019-08-06 12:51:00.630 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 12:51:00.653 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 12:51:01.804 -07:00 [Debug] Connection id ""0HLOQKSGBS5I4"" stopped.
===> 2019-08-06 12:51:01.804 -07:00 [Debug] Connection id ""0HLOQKSGBS5I5"" stopped.
===> 2019-08-06 12:51:02.094 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-d6360927-c4c2-4a9b-81df-9665433a1afc using lazy-loading proxies "
===> 2019-08-06 12:52:49.830 -07:00 [Information] Starting web host
===> 2019-08-06 12:52:50.085 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 12:52:50.219 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 12:52:50.276 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 12:52:50.333 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 12:52:50.543 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:52:50.555 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 12:52:50.562 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 12:52:50.573 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 12:52:50.585 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 12:52:50.616 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 12:52:50.620 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 12:52:50.719 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 12:52:50.816 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 12:52:50.816 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:52:50.816 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 12:52:50.817 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 12:52:50.818 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 12:52:50.818 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 12:52:50.820 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 12:52:50.820 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 12:52:50.896 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:52:50.897 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:52:50.897 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 12:52:50.917 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:52:50.917 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:52:50.917 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 12:52:50.950 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 12:52:51.125 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:52:51.125 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 12:52:51.208 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 12:52:51.685 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 12:52:56.829 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 12:52:58.813 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-c89457c4-926e-4a43-a100-d16c5500fc03 using lazy-loading proxies "
===> 2019-08-06 12:52:59.080 -07:00 [Debug] Compiling query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:52:59.147 -07:00 [Debug] Optimized query model: "
"'"(from Account <generated>_1 in DbSet<Account>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:52:59.303 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: Account))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:53:02.049 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:53:02.212 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"Account"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:53:02.698 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:02.733 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:02.736 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:02.737 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:02.739 -07:00 [Debug] Unchanged '"Account"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:53:02.751 -07:00 [Debug] Unchanged '"Account"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:53:02.751 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:02.791 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:53:02.801 -07:00 [Debug] An '"Account"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:53:02.809 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:53:04.236 -07:00 [Debug] Compiling query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:53:04.237 -07:00 [Debug] Optimized query model: "
"'"(from User <generated>_1 in DbSet<User>
select [<generated>_1]).Any()"'
===> 2019-08-06 12:53:04.242 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<bool> _InterceptExceptions(
|__ source: IEnumerable<bool> _ToSequence(() => bool Any(IEnumerable<ValueBuffer> ProjectionQuery(
|   |__ queryContext: queryContext, 
|   |__ entityType: EntityType: User))), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 12:53:05.578 -07:00 [Debug] '"UsuarioMicroServiceContext"' generated a value for the '"Id"' property of new '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:53:05.620 -07:00 [Debug] Context '"UsuarioMicroServiceContext"' started tracking '"User"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:53:06.055 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:06.066 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:06.067 -07:00 [Debug] SaveChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:06.067 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:06.067 -07:00 [Debug] Unchanged '"User"."Created"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:53:06.070 -07:00 [Debug] Unchanged '"User"."Modified"' detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
===> 2019-08-06 12:53:06.070 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 12:53:06.072 -07:00 [Information] Saved 1 entities to in-memory store.
===> 2019-08-06 12:53:06.073 -07:00 [Debug] An '"User"' entity tracked by '"UsuarioMicroServiceContext"' changed from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
===> 2019-08-06 12:53:06.073 -07:00 [Debug] SaveChanges completed for '"UsuarioMicroServiceContext"' with 1 entities written to the database.
===> 2019-08-06 12:53:09.472 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 12:53:11.885 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 12:53:12.080 -07:00 [Debug] Connection id ""0HLOQKUR8NMP5"" started.
===> 2019-08-06 12:53:12.261 -07:00 [Debug] Connection id ""0HLOQKUR8NMP6"" started.
===> 2019-08-06 12:53:12.369 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:53:12.369 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 12:53:12.516 -07:00 [Debug] Connection id ""0HLOQKUR8NMP6"" completed keep alive response.
===> 2019-08-06 12:53:12.531 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:53:13.145 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:53:13.463 -07:00 [Debug] Connection id ""0HLOQKUR8NMP5"" completed keep alive response.
===> 2019-08-06 12:53:13.979 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:53:13.979 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 12:53:14.190 -07:00 [Debug] Connection id ""0HLOQKUR8NMP6"" completed keep alive response.
===> 2019-08-06 12:53:23.751 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 12:53:23.774 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 12:53:23.777 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 12:53:23.778 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 12:53:23.791 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 12:53:23.904 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 12:53:23.914 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 12:53:23.919 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:53:23.923 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 12:53:23.926 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 12:53:23.930 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 12:53:24.002 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 12:53:24.018 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 12:53:24.020 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:53:24.031 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 12:53:24.090 -07:00 [Debug] Connection id ""0HLOQKUR8NMP5"", Request id ""0HLOQKUR8NMP5:00000002"": started reading request body.
===> 2019-08-06 12:53:24.125 -07:00 [Debug] Connection id ""0HLOQKUR8NMP5"", Request id ""0HLOQKUR8NMP5:00000002"": done reading request body.
===> 2019-08-06 12:53:24.147 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 12:53:24.153 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 12:53:24.269 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 12:54:00.405 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-6e43c01d-f63d-47cc-aa35-d503dd93381d using lazy-loading proxies "
===> 2019-08-06 13:20:46.421 -07:00 [Information] Starting web host
===> 2019-08-06 13:20:46.664 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 13:20:46.698 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 13:20:46.740 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 13:20:46.762 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 13:20:46.814 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 13:20:46.820 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 13:20:46.825 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 13:20:46.832 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 13:20:46.843 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 13:20:46.855 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 13:20:46.857 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 13:20:46.913 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 13:20:46.954 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 13:20:46.954 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 13:20:46.954 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 13:20:46.955 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 13:20:46.955 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 13:20:46.955 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 13:20:46.955 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 13:20:46.955 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 13:20:46.984 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 13:20:46.985 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 13:20:46.985 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 13:20:46.994 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 13:20:46.994 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 13:20:46.994 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 13:20:47.021 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 13:20:47.083 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 13:20:47.083 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 13:20:47.138 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 13:20:47.515 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 13:20:47.657 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 13:20:47.865 -07:00 [Debug] Connection id ""0HLOQLE8NHT8E"" started.
===> 2019-08-06 13:20:47.989 -07:00 [Debug] Connection id ""0HLOQLE8NHT8F"" started.
===> 2019-08-06 13:20:48.072 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 13:20:48.072 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 13:20:48.197 -07:00 [Debug] Connection id ""0HLOQLE8NHT8E"" completed keep alive response.
===> 2019-08-06 13:20:48.214 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 13:20:48.459 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 13:20:48.800 -07:00 [Debug] Connection id ""0HLOQLE8NHT8F"" completed keep alive response.
===> 2019-08-06 13:20:49.314 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 13:20:49.316 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 13:20:49.582 -07:00 [Debug] Connection id ""0HLOQLE8NHT8E"" completed keep alive response.
===> 2019-08-06 13:21:02.094 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 13:21:02.102 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 13:21:02.104 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 13:21:02.106 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 13:21:02.113 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 13:21:02.236 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 13:21:02.239 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 13:21:02.241 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 13:21:02.242 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 13:21:02.243 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 13:21:02.244 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 13:21:02.289 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 42.7262ms
===> 2019-08-06 13:21:02.291 -07:00 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentException: GenericArguments[1], 'ConsultorioMedERP.Common.EstructuraOrganizacional.Usuario', on 'ConsultorioMedERP.UsuarioMicroService.Domain.Service.GenericService`2[Tv,Te]' violates the constraint of type 'Te'. ---> System.TypeLoadException: GenericArguments[1], 'ConsultorioMedERP.Common.EstructuraOrganizacional.Usuario', on 'ConsultorioMedERP.UsuarioMicroService.Domain.Service.GenericService`2[Tv,Te]' violates the constraint of type parameter 'Te'.
   at System.RuntimeTypeHandle.Instantiate(RuntimeTypeHandle handle, IntPtr* pInst, Int32 numGenericArgs, ObjectHandleOnStack type)
   at System.RuntimeTypeHandle.Instantiate(Type[] inst)
   at System.RuntimeType.MakeGenericType(Type[] instantiation)
   --- End of inner exception stack trace ---
   at System.RuntimeType.ValidateGenericArguments(MemberInfo definition, RuntimeType[] genericArguments, Exception e)
   at System.RuntimeType.MakeGenericType(Type[] instantiation)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
===> 2019-08-06 13:21:02.494 -07:00 [Debug] Connection id ""0HLOQLE8NHT8F"" completed keep alive response.
===> 2019-08-06 13:21:02.497 -07:00 [Debug] Connection id ""0HLOQLE8NHT8F"", Request id ""0HLOQLE8NHT8F:00000002"": started reading request body.
===> 2019-08-06 13:21:02.527 -07:00 [Information] Connection id ""0HLOQLE8NHT8F"", Request id ""0HLOQLE8NHT8F:00000002"": the application completed without reading the entire request body.
===> 2019-08-06 13:21:02.529 -07:00 [Debug] Connection id ""0HLOQLE8NHT8F"", Request id ""0HLOQLE8NHT8F:00000002"": done reading request body.
===> 2019-08-06 13:21:09.951 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 13:21:09.952 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 13:21:09.952 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 13:21:09.952 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 13:21:09.952 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 13:21:09.957 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 13:21:09.957 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 13:21:09.957 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 13:21:09.958 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 13:21:09.958 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 13:21:09.958 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 13:21:09.960 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 2.197ms
===> 2019-08-06 13:21:09.962 -07:00 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentException: GenericArguments[1], 'ConsultorioMedERP.Common.EstructuraOrganizacional.Usuario', on 'ConsultorioMedERP.UsuarioMicroService.Domain.Service.GenericService`2[Tv,Te]' violates the constraint of type 'Te'. ---> System.TypeLoadException: GenericArguments[1], 'ConsultorioMedERP.Common.EstructuraOrganizacional.Usuario', on 'ConsultorioMedERP.UsuarioMicroService.Domain.Service.GenericService`2[Tv,Te]' violates the constraint of type parameter 'Te'.
   at System.RuntimeTypeHandle.Instantiate(RuntimeTypeHandle handle, IntPtr* pInst, Int32 numGenericArgs, ObjectHandleOnStack type)
   at System.RuntimeTypeHandle.Instantiate(Type[] inst)
   at System.RuntimeType.MakeGenericType(Type[] instantiation)
   --- End of inner exception stack trace ---
   at System.RuntimeType.ValidateGenericArguments(MemberInfo definition, RuntimeType[] genericArguments, Exception e)
   at System.RuntimeType.MakeGenericType(Type[] instantiation)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateOpenGeneric(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
===> 2019-08-06 13:21:09.992 -07:00 [Debug] Connection id ""0HLOQLE8NHT8E"" completed keep alive response.
===> 2019-08-06 13:21:09.992 -07:00 [Debug] Connection id ""0HLOQLE8NHT8E"", Request id ""0HLOQLE8NHT8E:00000003"": started reading request body.
===> 2019-08-06 13:21:09.996 -07:00 [Information] Connection id ""0HLOQLE8NHT8E"", Request id ""0HLOQLE8NHT8E:00000003"": the application completed without reading the entire request body.
===> 2019-08-06 13:21:09.996 -07:00 [Debug] Connection id ""0HLOQLE8NHT8E"", Request id ""0HLOQLE8NHT8E:00000003"": done reading request body.
===> 2019-08-06 14:24:28.927 -07:00 [Information] Starting web host
===> 2019-08-06 14:24:29.330 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:24:29.359 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:24:29.429 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:24:29.459 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:24:29.525 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:24:29.529 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:24:29.535 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:24:29.545 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:24:29.553 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:24:29.567 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:24:29.572 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:24:29.623 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:24:29.678 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:24:29.678 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:24:29.678 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:24:29.678 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:24:29.679 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:24:29.679 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:24:29.679 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:24:29.679 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:24:29.725 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:24:29.725 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:24:29.726 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:24:29.736 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:24:29.737 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:24:29.737 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:24:29.769 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:24:29.827 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:24:29.827 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:24:29.891 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:24:30.272 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:24:30.426 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:24:30.698 -07:00 [Debug] Connection id ""0HLOQMHS0SS59"" started.
===> 2019-08-06 14:24:30.811 -07:00 [Debug] Connection id ""0HLOQMHS0SS5A"" started.
===> 2019-08-06 14:24:30.892 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:24:30.892 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:24:31.029 -07:00 [Debug] Connection id ""0HLOQMHS0SS59"" completed keep alive response.
===> 2019-08-06 14:24:31.039 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:24:31.274 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:24:31.556 -07:00 [Debug] Connection id ""0HLOQMHS0SS5A"" completed keep alive response.
===> 2019-08-06 14:24:32.434 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:24:32.434 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:24:32.606 -07:00 [Debug] Connection id ""0HLOQMHS0SS59"" completed keep alive response.
===> 2019-08-06 14:25:25.376 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:25:25.387 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:25:25.388 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:25:25.389 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:25:25.399 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:25:25.498 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:25:25.501 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:25:25.502 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:25:25.503 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:25:25.504 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:25:25.505 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:25:25.565 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:25:25.573 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:25:25.575 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:25:25.583 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:25:25.617 -07:00 [Debug] Connection id ""0HLOQMHS0SS5A"", Request id ""0HLOQMHS0SS5A:00000002"": started reading request body.
===> 2019-08-06 14:25:25.634 -07:00 [Debug] Connection id ""0HLOQMHS0SS5A"", Request id ""0HLOQMHS0SS5A:00000002"": done reading request body.
===> 2019-08-06 14:25:25.662 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:25:25.663 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:25:25.699 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:25:30.666 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:25:31.231 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-1554cfab-e6ef-48ef-8cab-bccd31352ca0 using lazy-loading proxies "
===> 2019-08-06 14:25:31.355 -07:00 [Debug] Compiling query model: "
"'"from Usuario x in DbSet<Usuario>
where [x].UserName == __login_Username_0
select [x]"'
===> 2019-08-06 14:25:31.398 -07:00 [Debug] Optimized query model: "
"'"from Usuario x in DbSet<Usuario>
where [x].UserName == __login_Username_0
select [x]"'
===> 2019-08-06 14:25:31.609 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _Where(
|   |   |__ source: IEnumerable<Usuario> EntityQuery(
|   |   |   |__ queryContext: queryContext, 
|   |   |   |__ entityType: EntityType: Usuario, 
|   |   |   |__ key: Key: Usuario.Id PK, 
|   |   |   |__ materializer: (IEntityType entityType | MaterializationContext materializationContext) => 
|   |   |   |   {
|   |   |   |       instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |   |   |       |__ entityType: EntityType: Usuario, 
|   |   |   |       |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |   |   |       |__ constructorArguments: new object[]{ })
|   |   |   |       instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |   |   |       instance.<ApellidoMaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.ApellidoMaterno)
|   |   |   |       instance.<ApellidoPaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, Usuario.ApellidoPaterno)
|   |   |   |       instance.<FechaCreacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, Usuario.FechaCreacion)
|   |   |   |       instance.<FechaModificacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, Usuario.FechaModificacion)
|   |   |   |       instance.<Nombre>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 5, Usuario.Nombre)
|   |   |   |       instance.<OficinaId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 6, Usuario.OficinaId)
|   |   |   |       instance.<RolId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 7, Usuario.RolId)
|   |   |   |       instance.<UserName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 8, Usuario.UserName)
|   |   |   |       return instance
|   |   |   |   }, 
|   |   |   |__ queryStateManager: True), 
|   |   |__ predicate: (Usuario x) => x.UserName == string GetParameterValue(
|   |       |__ queryContext: queryContext, 
|   |       |__ parameterName: \"__login_Username_0\")), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: List<EntityTrackingInfo> 
|   |   { 
|   |       EntityTrackingInfo, 
|   |   }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:25:54.576 -07:00 [Information] Executed action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)", returned result "Microsoft.AspNetCore.Mvc.UnauthorizedResult" in 28870.4905ms.
===> 2019-08-06 14:25:54.600 -07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
===> 2019-08-06 14:25:54.607 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 29100.5805ms
===> 2019-08-06 14:25:54.618 -07:00 [Debug] Connection id ""0HLOQMHS0SS5A"" completed keep alive response.
===> 2019-08-06 14:25:54.624 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:26:20.657 -07:00 [Debug] Connection id ""0HLOQMHS0SS59"" received FIN.
===> 2019-08-06 14:26:20.670 -07:00 [Debug] Connection id ""0HLOQMHS0SS59"" disconnecting.
===> 2019-08-06 14:26:20.673 -07:00 [Debug] Connection id ""0HLOQMHS0SS59"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 14:26:20.677 -07:00 [Debug] Connection id ""0HLOQMHS0SS59"" stopped.
===> 2019-08-06 14:27:12.993 -07:00 [Information] Starting web host
===> 2019-08-06 14:27:13.198 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:27:13.225 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:27:13.247 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:27:13.272 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:27:13.330 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:27:13.336 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:27:13.340 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:27:13.347 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:27:13.355 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:27:13.363 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:27:13.366 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:27:13.410 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:27:13.447 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:27:13.447 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:27:13.447 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:27:13.447 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:27:13.447 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:27:13.447 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:27:13.448 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:27:13.448 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:27:13.478 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:27:13.478 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:27:13.478 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:27:13.489 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:27:13.489 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:27:13.489 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:27:13.510 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:27:13.558 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:27:13.558 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:27:13.601 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:27:13.883 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:27:14.020 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:27:14.185 -07:00 [Debug] Connection id ""0HLOQMJCO0T19"" started.
===> 2019-08-06 14:27:14.281 -07:00 [Debug] Connection id ""0HLOQMJCO0T1A"" started.
===> 2019-08-06 14:27:14.349 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:27:14.349 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:27:14.460 -07:00 [Debug] Connection id ""0HLOQMJCO0T1A"" completed keep alive response.
===> 2019-08-06 14:27:14.473 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:27:14.670 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:27:14.905 -07:00 [Debug] Connection id ""0HLOQMJCO0T19"" completed keep alive response.
===> 2019-08-06 14:27:15.247 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:27:15.248 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:27:15.437 -07:00 [Debug] Connection id ""0HLOQMJCO0T1A"" completed keep alive response.
===> 2019-08-06 14:27:22.102 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:27:22.112 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:27:22.113 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:27:22.113 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:27:22.119 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:27:22.209 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:27:22.211 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:27:22.212 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:27:22.213 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:27:22.214 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:27:22.214 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:27:22.250 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:27:22.259 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:27:22.261 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:27:22.268 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:27:22.294 -07:00 [Debug] Connection id ""0HLOQMJCO0T19"", Request id ""0HLOQMJCO0T19:00000002"": started reading request body.
===> 2019-08-06 14:27:22.310 -07:00 [Debug] Connection id ""0HLOQMJCO0T19"", Request id ""0HLOQMJCO0T19:00000002"": done reading request body.
===> 2019-08-06 14:27:22.338 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:27:22.339 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:27:22.383 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:27:28.949 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:27:29.386 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-4dd5e08a-9359-45bb-9ec0-b3d60d659deb using lazy-loading proxies "
===> 2019-08-06 14:27:29.508 -07:00 [Debug] Compiling query model: "
"'"from Usuario x in DbSet<Usuario>
where [x].Id == 1
select [x]"'
===> 2019-08-06 14:27:29.554 -07:00 [Debug] Optimized query model: "
"'"from Usuario x in DbSet<Usuario>
where [x].Id == 1
select [x]"'
===> 2019-08-06 14:27:29.625 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _Where(
|   |   |__ source: IEnumerable<Usuario> EntityQuery(
|   |   |   |__ queryContext: queryContext, 
|   |   |   |__ entityType: EntityType: Usuario, 
|   |   |   |__ key: Key: Usuario.Id PK, 
|   |   |   |__ materializer: (IEntityType entityType | MaterializationContext materializationContext) => 
|   |   |   |   {
|   |   |   |       instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |   |   |       |__ entityType: EntityType: Usuario, 
|   |   |   |       |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |   |   |       |__ constructorArguments: new object[]{ })
|   |   |   |       instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |   |   |       instance.<ApellidoMaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.ApellidoMaterno)
|   |   |   |       instance.<ApellidoPaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, Usuario.ApellidoPaterno)
|   |   |   |       instance.<FechaCreacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, Usuario.FechaCreacion)
|   |   |   |       instance.<FechaModificacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, Usuario.FechaModificacion)
|   |   |   |       instance.<Nombre>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 5, Usuario.Nombre)
|   |   |   |       instance.<OficinaId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 6, Usuario.OficinaId)
|   |   |   |       instance.<RolId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 7, Usuario.RolId)
|   |   |   |       instance.<UserName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 8, Usuario.UserName)
|   |   |   |       return instance
|   |   |   |   }, 
|   |   |   |__ queryStateManager: True), 
|   |   |__ predicate: (Usuario x) => x.Id == 1), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: List<EntityTrackingInfo> 
|   |   { 
|   |       EntityTrackingInfo, 
|   |   }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:27:33.043 -07:00 [Information] Executed action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)", returned result "Microsoft.AspNetCore.Mvc.UnauthorizedResult" in 10657.7476ms.
===> 2019-08-06 14:27:33.058 -07:00 [Information] Executing HttpStatusCodeResult, setting HTTP status code 401
===> 2019-08-06 14:27:33.065 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 10849.0252ms
===> 2019-08-06 14:27:33.073 -07:00 [Debug] Connection id ""0HLOQMJCO0T19"" completed keep alive response.
===> 2019-08-06 14:27:33.075 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:32:58.236 -07:00 [Information] Starting web host
===> 2019-08-06 14:32:58.593 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:32:58.653 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:32:58.736 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:32:58.768 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:32:58.818 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:32:58.825 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:32:58.832 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:32:58.839 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:32:58.846 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:32:58.856 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:32:58.857 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:32:58.915 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:32:58.957 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:32:58.958 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:32:58.958 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:32:58.958 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:32:58.958 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:32:58.958 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:32:58.958 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:32:58.958 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:32:58.987 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:32:58.987 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:32:58.987 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:32:58.994 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:32:58.995 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:32:58.995 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:32:59.015 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:32:59.141 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:32:59.141 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:32:59.265 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:32:59.801 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:33:00.133 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:33:00.512 -07:00 [Debug] Connection id ""0HLOQMMJUOANQ"" started.
===> 2019-08-06 14:33:00.675 -07:00 [Debug] Connection id ""0HLOQMMJUOANR"" started.
===> 2019-08-06 14:33:00.776 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:33:00.776 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:33:00.998 -07:00 [Debug] Connection id ""0HLOQMMJUOANQ"" completed keep alive response.
===> 2019-08-06 14:33:01.016 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:33:01.343 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:33:01.860 -07:00 [Debug] Connection id ""0HLOQMMJUOANR"" completed keep alive response.
===> 2019-08-06 14:33:02.254 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:33:02.254 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:33:02.460 -07:00 [Debug] Connection id ""0HLOQMMJUOANQ"" completed keep alive response.
===> 2019-08-06 14:33:07.522 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:33:07.536 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:33:07.539 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:33:07.539 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:33:07.552 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:33:07.693 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:33:07.696 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:33:07.699 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:33:07.700 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:33:07.701 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:33:07.704 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:33:07.778 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:33:07.798 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:33:07.804 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:33:07.833 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:33:07.914 -07:00 [Debug] Connection id ""0HLOQMMJUOANR"", Request id ""0HLOQMMJUOANR:00000002"": started reading request body.
===> 2019-08-06 14:33:07.949 -07:00 [Debug] Connection id ""0HLOQMMJUOANR"", Request id ""0HLOQMMJUOANR:00000002"": done reading request body.
===> 2019-08-06 14:33:08.045 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:33:08.048 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:33:08.103 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:33:11.908 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:33:12.746 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Microsoft.EntityFrameworkCore.InMemory"' with options: "StoreName=TestDB-6ee5812a-4fcc-422b-a733-1e83ba6aa46d using lazy-loading proxies "
===> 2019-08-06 14:33:13.133 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:33:13.215 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:33:13.351 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> EntityQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ entityType: EntityType: Usuario, 
|   |   |__ key: Key: Usuario.Id PK, 
|   |   |__ materializer: (IEntityType entityType | MaterializationContext materializationContext) => 
|   |   |   {
|   |   |       instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |   |       |__ entityType: EntityType: Usuario, 
|   |   |       |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |   |       |__ constructorArguments: new object[]{ })
|   |   |       instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |   |       instance.<ApellidoMaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.ApellidoMaterno)
|   |   |       instance.<ApellidoPaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, Usuario.ApellidoPaterno)
|   |   |       instance.<FechaCreacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, Usuario.FechaCreacion)
|   |   |       instance.<FechaModificacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, Usuario.FechaModificacion)
|   |   |       instance.<Nombre>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 5, Usuario.Nombre)
|   |   |       instance.<OficinaId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 6, Usuario.OficinaId)
|   |   |       instance.<RolId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 7, Usuario.RolId)
|   |   |       instance.<UserName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 8, Usuario.UserName)
|   |   |       return instance
|   |   |   }, 
|   |   |__ queryStateManager: True), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: List<EntityTrackingInfo> 
|   |   { 
|   |       EntityTrackingInfo, 
|   |   }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:34:00.825 -07:00 [Information] Starting web host
===> 2019-08-06 14:34:01.143 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:34:01.181 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:34:01.210 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:34:01.227 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:34:01.282 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:34:01.286 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:34:01.292 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:34:01.300 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:34:01.311 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:34:01.323 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:34:01.328 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:34:01.395 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:34:01.477 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:34:01.477 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:34:01.477 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:34:01.479 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:34:01.479 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:34:01.479 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:34:01.480 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:34:01.480 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:34:01.555 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:34:01.555 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:34:01.556 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:34:01.568 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:34:01.568 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:34:01.568 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:34:01.590 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:34:01.675 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:34:01.675 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:34:01.727 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:34:02.267 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:34:02.354 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:34:03.732 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:34:04.264 -07:00 [Debug] Migrating using database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:04.385 -07:00 [Debug] Opening connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:05.181 -07:00 [Debug] Opened connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:05.206 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE DATABASE \"ConsultorioMedERP\";"
===> 2019-08-06 14:34:06.858 -07:00 [Information] Executed DbCommand ("1,626"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE DATABASE \"ConsultorioMedERP\";"
===> 2019-08-06 14:34:06.864 -07:00 [Debug] Closing connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:06.869 -07:00 [Debug] Closed connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:06.882 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:06.989 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:06.990 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:06.995 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.165 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 14:34:07.167 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 14:34:07.189 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.189 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.190 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"__EFMigrationsHistory\" (
    \"MigrationId\" character varying(150) NOT NULL,
    \"ProductVersion\" character varying(32) NOT NULL,
    CONSTRAINT \"PK___EFMigrationsHistory\" PRIMARY KEY (\"MigrationId\")
);"
===> 2019-08-06 14:34:07.217 -07:00 [Information] Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"__EFMigrationsHistory\" (
    \"MigrationId\" character varying(150) NOT NULL,
    \"ProductVersion\" character varying(32) NOT NULL,
    CONSTRAINT \"PK___EFMigrationsHistory\" PRIMARY KEY (\"MigrationId\")
);"
===> 2019-08-06 14:34:07.217 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.217 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.302 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.302 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.302 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:34:07.321 -07:00 [Information] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:34:07.322 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.322 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.324 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.324 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.324 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:34:07.326 -07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:34:07.328 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 14:34:07.328 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.328 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.340 -07:00 [Information] Applying migration '"20180708205028_InitialCreate"'.
===> 2019-08-06 14:34:07.616 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.616 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.624 -07:00 [Debug] Beginning transaction with isolation level '"ReadCommitted"'.
===> 2019-08-06 14:34:07.625 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Accounts\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"Name\" character varying(30) NOT NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsTrial\" boolean NOT NULL,
    \"IsActive\" boolean NOT NULL,
    \"SetActive\" timestamp without time zone NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Accounts\" PRIMARY KEY (\"Id\")
);"
===> 2019-08-06 14:34:07.643 -07:00 [Information] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Accounts\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"Name\" character varying(30) NOT NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsTrial\" boolean NOT NULL,
    \"IsActive\" boolean NOT NULL,
    \"SetActive\" timestamp without time zone NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Accounts\" PRIMARY KEY (\"Id\")
);"
===> 2019-08-06 14:34:07.643 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Users\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"FirstName\" character varying(20) NOT NULL,
    \"LastName\" character varying(20) NOT NULL,
    \"UserName\" character varying(30) NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsAdminRole\" boolean NOT NULL,
    \"Roles\" character varying(255) NULL,
    \"IsActive\" boolean NOT NULL,
    \"Password\" character varying(255) NULL,
    \"AccountId\" integer NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Users\" PRIMARY KEY (\"Id\"),
    CONSTRAINT \"FK_Users_Accounts_AccountId\" FOREIGN KEY (\"AccountId\") REFERENCES \"Accounts\" (\"Id\") ON DELETE CASCADE
);"
===> 2019-08-06 14:34:07.659 -07:00 [Information] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Users\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"FirstName\" character varying(20) NOT NULL,
    \"LastName\" character varying(20) NOT NULL,
    \"UserName\" character varying(30) NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsAdminRole\" boolean NOT NULL,
    \"Roles\" character varying(255) NULL,
    \"IsActive\" boolean NOT NULL,
    \"Password\" character varying(255) NULL,
    \"AccountId\" integer NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Users\" PRIMARY KEY (\"Id\"),
    CONSTRAINT \"FK_Users_Accounts_AccountId\" FOREIGN KEY (\"AccountId\") REFERENCES \"Accounts\" (\"Id\") ON DELETE CASCADE
);"
===> 2019-08-06 14:34:07.659 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Users_AccountId\" ON \"Users\" (\"AccountId\");"
===> 2019-08-06 14:34:07.664 -07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Users_AccountId\" ON \"Users\" (\"AccountId\");"
===> 2019-08-06 14:34:07.664 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")
VALUES ('20180708205028_InitialCreate', '2.2.1-servicing-10028');"
===> 2019-08-06 14:34:07.666 -07:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")
VALUES ('20180708205028_InitialCreate', '2.2.1-servicing-10028');"
===> 2019-08-06 14:34:07.676 -07:00 [Debug] Committing transaction.
===> 2019-08-06 14:34:07.679 -07:00 [Debug] Disposing transaction.
===> 2019-08-06 14:34:07.679 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.679 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:07.682 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:34:07.810 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:34:08.226 -07:00 [Debug] Connection id ""0HLOQMN84LHFN"" started.
===> 2019-08-06 14:34:08.337 -07:00 [Debug] Connection id ""0HLOQMN84LHFO"" started.
===> 2019-08-06 14:34:08.427 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:34:08.427 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:34:08.610 -07:00 [Debug] Connection id ""0HLOQMN84LHFN"" completed keep alive response.
===> 2019-08-06 14:34:08.626 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:34:08.909 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:34:09.356 -07:00 [Debug] Connection id ""0HLOQMN84LHFO"" completed keep alive response.
===> 2019-08-06 14:34:09.995 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:34:09.996 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:34:10.281 -07:00 [Debug] Connection id ""0HLOQMN84LHFN"" completed keep alive response.
===> 2019-08-06 14:34:23.445 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:34:23.459 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:34:23.462 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:34:23.462 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:34:23.469 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:34:23.606 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:34:23.612 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:34:23.617 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:34:23.618 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:34:23.619 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:34:23.620 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:34:23.677 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:34:23.691 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:34:23.697 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:34:23.722 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:34:23.802 -07:00 [Debug] Connection id ""0HLOQMN84LHFO"", Request id ""0HLOQMN84LHFO:00000002"": started reading request body.
===> 2019-08-06 14:34:23.851 -07:00 [Debug] Connection id ""0HLOQMN84LHFO"", Request id ""0HLOQMN84LHFO:00000002"": done reading request body.
===> 2019-08-06 14:34:23.931 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:34:23.933 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:34:24.002 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:34:27.514 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:34:27.694 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:34:27.744 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:34:28.005 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"Id\", u.\"ApellidoMaterno\", u.\"ApellidoPaterno\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"Nombre\", u.\"OficinaId\", u.\"RolId\", u.\"UserName\"
|   |   |       FROM public.\"Usuario\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<ApellidoMaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.ApellidoMaterno)
|   |           instance.<ApellidoPaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, Usuario.ApellidoPaterno)
|   |           instance.<FechaCreacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, Usuario.FechaCreacion)
|   |           instance.<FechaModificacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, Usuario.FechaModificacion)
|   |           instance.<Nombre>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 5, Usuario.Nombre)
|   |           instance.<OficinaId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 6, Usuario.OficinaId)
|   |           instance.<RolId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 7, Usuario.RolId)
|   |           instance.<UserName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 8, Usuario.UserName)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:34:28.025 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:28.025 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:28.029 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ApellidoMaterno\", u.\"ApellidoPaterno\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"Nombre\", u.\"OficinaId\", u.\"RolId\", u.\"UserName\"
FROM public.\"Usuario\" AS u"
===> 2019-08-06 14:34:28.040 -07:00 [Error] Failed executing DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ApellidoMaterno\", u.\"ApellidoPaterno\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"Nombre\", u.\"OficinaId\", u.\"RolId\", u.\"UserName\"
FROM public.\"Usuario\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.Usuario" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:34:28.173 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:28.173 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:34:28.188 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.Usuario\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.Usuario" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 14:40:23.453 -07:00 [Information] Starting web host
===> 2019-08-06 14:40:23.704 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:40:23.738 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:40:23.770 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:40:23.804 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:40:23.875 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:40:23.879 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:40:23.882 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:40:23.890 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:40:23.897 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:40:23.910 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:40:23.912 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:40:23.988 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:40:24.056 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:40:24.057 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:40:24.057 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:40:24.058 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:40:24.058 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:40:24.058 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:40:24.059 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:40:24.059 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:40:24.088 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:40:24.088 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:40:24.088 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:40:24.097 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:40:24.097 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:40:24.097 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:40:24.115 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:40:24.173 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:40:24.174 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:40:24.269 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:40:24.838 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:40:24.902 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:40:26.224 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:40:27.172 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.249 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.261 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:40:27.283 -07:00 [Information] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:40:27.285 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.288 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.313 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.313 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.313 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:40:27.316 -07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:40:27.319 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 14:40:27.319 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.319 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:27.332 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:40:27.533 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:40:27.742 -07:00 [Debug] Connection id ""0HLOQMQP7QQSF"" started.
===> 2019-08-06 14:40:27.910 -07:00 [Debug] Connection id ""0HLOQMQP7QQSG"" started.
===> 2019-08-06 14:40:28.014 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:40:28.014 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:40:28.175 -07:00 [Debug] Connection id ""0HLOQMQP7QQSG"" completed keep alive response.
===> 2019-08-06 14:40:28.188 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:40:28.534 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:40:28.939 -07:00 [Debug] Connection id ""0HLOQMQP7QQSF"" completed keep alive response.
===> 2019-08-06 14:40:29.324 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:40:29.324 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:40:29.506 -07:00 [Debug] Connection id ""0HLOQMQP7QQSG"" completed keep alive response.
===> 2019-08-06 14:40:33.917 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:40:33.928 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:40:33.930 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:40:33.931 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:40:33.942 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:40:34.056 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:40:34.064 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:40:34.071 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:40:34.074 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:40:34.077 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:40:34.079 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:40:34.183 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:40:34.208 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:40:34.212 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:40:34.236 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:40:34.330 -07:00 [Debug] Connection id ""0HLOQMQP7QQSF"", Request id ""0HLOQMQP7QQSF:00000002"": started reading request body.
===> 2019-08-06 14:40:34.369 -07:00 [Debug] Connection id ""0HLOQMQP7QQSF"", Request id ""0HLOQMQP7QQSF:00000002"": done reading request body.
===> 2019-08-06 14:40:34.410 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:40:34.412 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:40:34.506 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:40:39.264 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:40:39.451 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:40:39.510 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:40:39.731 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"ApellidoMaterno\", u.\"ApellidoPaterno\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"Nombre\", u.\"OficinaId\", u.\"RolId\", u.\"UserName\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<ApellidoMaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.ApellidoMaterno)
|   |           instance.<ApellidoPaterno>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, Usuario.ApellidoPaterno)
|   |           instance.<FechaCreacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, Usuario.FechaCreacion)
|   |           instance.<FechaModificacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, Usuario.FechaModificacion)
|   |           instance.<Nombre>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 5, Usuario.Nombre)
|   |           instance.<OficinaId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 6, Usuario.OficinaId)
|   |           instance.<RolId>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 7, Usuario.RolId)
|   |           instance.<UserName>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 8, Usuario.UserName)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:40:39.764 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:39.765 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:39.770 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"ApellidoMaterno\", u.\"ApellidoPaterno\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"Nombre\", u.\"OficinaId\", u.\"RolId\", u.\"UserName\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 14:40:39.778 -07:00 [Error] Failed executing DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"ApellidoMaterno\", u.\"ApellidoPaterno\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"Nombre\", u.\"OficinaId\", u.\"RolId\", u.\"UserName\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:40:39.867 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:39.867 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:40:39.898 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 14:42:29.493 -07:00 [Information] Starting web host
===> 2019-08-06 14:42:29.837 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:42:29.867 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:42:29.908 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:42:29.936 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:42:30.001 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:42:30.005 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:42:30.008 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:42:30.015 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:42:30.021 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:42:30.034 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:42:30.036 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:42:30.097 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:42:30.161 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:42:30.162 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:42:30.162 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:42:30.162 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:42:30.166 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:42:30.167 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:42:30.167 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:42:30.167 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:42:30.234 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:42:30.234 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:42:30.234 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:42:30.247 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:42:30.248 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:42:30.248 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:42:30.277 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:42:30.346 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:42:30.346 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:42:30.414 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:42:30.923 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:42:30.988 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:42:32.191 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:42:33.120 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.198 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.207 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:42:33.230 -07:00 [Information] Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:42:33.232 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.238 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.261 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.261 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.261 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:42:33.264 -07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:42:33.267 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 14:42:33.268 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.268 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:33.289 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:42:33.432 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:42:33.756 -07:00 [Debug] Connection id ""0HLOQMRUPD6MU"" started.
===> 2019-08-06 14:42:33.941 -07:00 [Debug] Connection id ""0HLOQMRUPD6MV"" started.
===> 2019-08-06 14:42:34.065 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:42:34.065 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:42:34.211 -07:00 [Debug] Connection id ""0HLOQMRUPD6MV"" completed keep alive response.
===> 2019-08-06 14:42:34.220 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:42:34.630 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:42:34.993 -07:00 [Debug] Connection id ""0HLOQMRUPD6MU"" completed keep alive response.
===> 2019-08-06 14:42:35.384 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:42:35.384 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:42:35.565 -07:00 [Debug] Connection id ""0HLOQMRUPD6MV"" completed keep alive response.
===> 2019-08-06 14:42:40.126 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:42:40.139 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:42:40.141 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:42:40.141 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:42:40.154 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:42:40.230 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:42:40.233 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:42:40.234 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:42:40.235 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:42:40.236 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:42:40.236 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:42:40.282 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:42:40.292 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:42:40.294 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:42:40.302 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:42:40.329 -07:00 [Debug] Connection id ""0HLOQMRUPD6MU"", Request id ""0HLOQMRUPD6MU:00000002"": started reading request body.
===> 2019-08-06 14:42:40.349 -07:00 [Debug] Connection id ""0HLOQMRUPD6MU"", Request id ""0HLOQMRUPD6MU:00000002"": done reading request body.
===> 2019-08-06 14:42:40.382 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:42:40.383 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:42:40.425 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:42:44.821 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:42:44.986 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:42:45.049 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:42:45.316 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"NOMBRE\", u.\"USERNAME\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<FechaCreacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.FechaCreacion)
|   |           instance.<FechaModificacion>k__BackingField = DateTime TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, Usuario.FechaModificacion)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 3, Usuario.NOMBRE)
|   |           instance.<USERNAME>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 4, Usuario.USERNAME)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:42:45.367 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:45.367 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:45.379 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"NOMBRE\", u.\"USERNAME\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 14:42:45.390 -07:00 [Error] Failed executing DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"FechaCreacion\", u.\"FechaModificacion\", u.\"NOMBRE\", u.\"USERNAME\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:42:45.452 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:45.453 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:42:45.487 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 14:44:55.942 -07:00 [Information] Starting web host
===> 2019-08-06 14:44:56.215 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:44:56.240 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:44:56.269 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:44:56.286 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:44:56.337 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:44:56.340 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:44:56.344 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:44:56.353 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:44:56.359 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:44:56.374 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:44:56.380 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:44:56.442 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:44:56.490 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:44:56.490 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:44:56.490 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:44:56.491 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:44:56.491 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:44:56.491 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:44:56.491 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:44:56.491 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:44:56.527 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:44:56.529 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:44:56.530 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:44:56.545 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:44:56.545 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:44:56.545 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:44:56.575 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:44:56.642 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:44:56.642 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:44:56.709 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:44:57.122 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:44:57.180 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:44:58.415 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:44:59.424 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.641 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.650 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:44:59.688 -07:00 [Information] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:44:59.690 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.694 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.722 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.722 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.722 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:44:59.724 -07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:44:59.727 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 14:44:59.727 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.727 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:44:59.744 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:44:59.923 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:45:00.234 -07:00 [Debug] Connection id ""0HLOQMTAEJQQC"" started.
===> 2019-08-06 14:45:00.346 -07:00 [Debug] Connection id ""0HLOQMTAEJQQD"" started.
===> 2019-08-06 14:45:00.441 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:45:00.441 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:45:00.567 -07:00 [Debug] Connection id ""0HLOQMTAEJQQC"" completed keep alive response.
===> 2019-08-06 14:45:00.574 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:45:00.879 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:45:01.223 -07:00 [Debug] Connection id ""0HLOQMTAEJQQD"" completed keep alive response.
===> 2019-08-06 14:45:01.640 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:45:01.641 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:45:01.863 -07:00 [Debug] Connection id ""0HLOQMTAEJQQC"" completed keep alive response.
===> 2019-08-06 14:45:07.886 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:45:07.907 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:45:07.910 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:45:07.911 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:45:07.923 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:45:08.031 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:45:08.034 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:45:08.036 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:45:08.037 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:45:08.038 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:45:08.040 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:45:08.087 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:45:08.127 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:45:08.131 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:45:08.160 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:45:08.207 -07:00 [Debug] Connection id ""0HLOQMTAEJQQD"", Request id ""0HLOQMTAEJQQD:00000002"": started reading request body.
===> 2019-08-06 14:45:08.232 -07:00 [Debug] Connection id ""0HLOQMTAEJQQD"", Request id ""0HLOQMTAEJQQD:00000002"": done reading request body.
===> 2019-08-06 14:45:08.282 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:45:08.284 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:45:08.350 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:45:13.855 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:45:22.488 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:45:22.533 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:45:22.851 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"NOMBRE\", u.\"USERNAME\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.NOMBRE)
|   |           instance.<USERNAME>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 2, Usuario.USERNAME)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:45:22.875 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:45:22.875 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:45:22.881 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\", u.\"USERNAME\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 14:45:22.889 -07:00 [Error] Failed executing DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\", u.\"USERNAME\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:45:22.973 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:45:22.973 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:45:22.995 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 14:46:22.277 -07:00 [Information] Starting web host
===> 2019-08-06 14:46:22.593 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:46:22.633 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:46:22.751 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:46:22.794 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:46:22.866 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:46:22.874 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:46:22.879 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:46:22.893 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:46:22.903 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:46:22.922 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:46:22.925 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:46:23.158 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:46:23.270 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:46:23.270 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:46:23.270 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:46:23.271 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:46:23.271 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:46:23.271 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:46:23.271 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:46:23.271 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:46:23.312 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:46:23.313 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:46:23.314 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:46:23.327 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:46:23.327 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:46:23.327 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:46:23.352 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:46:23.433 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:46:23.433 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:46:23.503 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:46:24.003 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:46:24.056 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:46:25.182 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:46:26.058 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.161 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.172 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:46:26.200 -07:00 [Information] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:46:26.204 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.207 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.227 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.227 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.227 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:46:26.230 -07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:46:26.232 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 14:46:26.232 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.232 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:26.242 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:46:26.414 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:46:26.777 -07:00 [Debug] Connection id ""0HLOQMU47RJMQ"" started.
===> 2019-08-06 14:46:26.908 -07:00 [Debug] Connection id ""0HLOQMU47RJMR"" started.
===> 2019-08-06 14:46:27.014 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:46:27.014 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:46:27.162 -07:00 [Debug] Connection id ""0HLOQMU47RJMQ"" completed keep alive response.
===> 2019-08-06 14:46:27.167 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:46:27.533 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:46:27.923 -07:00 [Debug] Connection id ""0HLOQMU47RJMR"" completed keep alive response.
===> 2019-08-06 14:46:28.321 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:46:28.321 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:46:28.504 -07:00 [Debug] Connection id ""0HLOQMU47RJMQ"" completed keep alive response.
===> 2019-08-06 14:46:33.277 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:46:33.298 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:46:33.302 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:46:33.303 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:46:33.322 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:46:33.435 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:46:33.438 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:46:33.440 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:46:33.442 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:46:33.443 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:46:33.444 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:46:33.485 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:46:33.496 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:46:33.497 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:46:33.510 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:46:33.555 -07:00 [Debug] Connection id ""0HLOQMU47RJMR"", Request id ""0HLOQMU47RJMR:00000002"": started reading request body.
===> 2019-08-06 14:46:33.576 -07:00 [Debug] Connection id ""0HLOQMU47RJMR"", Request id ""0HLOQMU47RJMR:00000002"": done reading request body.
===> 2019-08-06 14:46:33.610 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:46:33.611 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:46:33.656 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:46:33.661 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:46:33.877 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:46:33.917 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:46:34.152 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"NOMBRE\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.NOMBRE)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:46:34.181 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:34.182 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:34.191 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 14:46:34.200 -07:00 [Error] Failed executing DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:46:34.249 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:34.249 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:46:34.259 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 14:54:50.105 -07:00 [Information] Starting web host
===> 2019-08-06 14:54:50.418 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:54:50.452 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:54:50.492 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:54:50.535 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:54:50.585 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:54:50.591 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:54:50.595 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:54:50.606 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:54:50.615 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:54:50.630 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:54:50.633 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:54:50.713 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:54:50.779 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:54:50.779 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:54:50.779 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:54:50.779 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:54:50.780 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:54:50.780 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:54:50.780 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:54:50.780 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:54:50.814 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:54:50.814 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:54:50.814 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:54:50.839 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:54:50.839 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:54:50.839 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:54:50.880 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:54:50.959 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:54:50.959 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:54:51.015 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:54:51.404 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:54:51.479 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:54:52.661 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:54:53.519 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.625 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.633 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:54:53.666 -07:00 [Information] Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:54:53.669 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.672 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.693 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.693 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.693 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:54:53.696 -07:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:54:53.698 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 14:54:53.698 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.698 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:54:53.709 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:54:53.914 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:54:54.178 -07:00 [Debug] Connection id ""0HLOQN2RETREU"" started.
===> 2019-08-06 14:54:54.306 -07:00 [Debug] Connection id ""0HLOQN2RETREV"" started.
===> 2019-08-06 14:54:54.391 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:54:54.391 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:54:54.584 -07:00 [Debug] Connection id ""0HLOQN2RETREV"" completed keep alive response.
===> 2019-08-06 14:54:54.589 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:54:54.935 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:54:55.215 -07:00 [Debug] Connection id ""0HLOQN2RETREU"" completed keep alive response.
===> 2019-08-06 14:54:55.621 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:54:55.621 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:54:55.864 -07:00 [Debug] Connection id ""0HLOQN2RETREV"" completed keep alive response.
===> 2019-08-06 14:55:00.901 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:55:00.917 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:55:00.921 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:55:00.922 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:55:00.931 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:55:01.059 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:55:01.062 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:55:01.066 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:55:01.068 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:55:01.069 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:55:01.070 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:55:01.123 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:55:01.135 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:55:01.137 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:55:01.146 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:55:01.183 -07:00 [Debug] Connection id ""0HLOQN2RETREU"", Request id ""0HLOQN2RETREU:00000002"": started reading request body.
===> 2019-08-06 14:55:01.205 -07:00 [Debug] Connection id ""0HLOQN2RETREU"", Request id ""0HLOQN2RETREU:00000002"": done reading request body.
===> 2019-08-06 14:55:01.278 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:55:01.284 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:55:01.360 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:55:01.367 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:55:01.554 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:55:01.592 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:55:01.835 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"NOMBRE\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.NOMBRE)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:55:01.896 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:55:01.896 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:55:01.907 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 14:55:01.916 -07:00 [Error] Failed executing DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:55:01.960 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:55:01.961 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:55:01.971 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 14:55:40.928 -07:00 [Information] Executed action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" in 39854.1304ms
===> 2019-08-06 14:55:40.964 -07:00 [Error] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
InternalDbSet`1 -> IEnumerable`1
Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1[[ConsultorioMedERP.UsuarioMicroService.Entity.EstructuraOrganizacional.Usuario, ConsultorioMedERP.UsuarioMicroService.Entity, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[ConsultorioMedERP.UsuarioMicroService.Domain.UsuarioViewModel, ConsultorioMedERP.UsuarioMicroService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] ---> Npgsql.PostgresException: 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at lambda_method(Closure , InternalDbSet`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , InternalDbSet`1 , IEnumerable`1 , ResolutionContext )
   at lambda_method(Closure , Object , Object , ResolutionContext )
   at AutoMapper.Mapper.AutoMapper.IMapper.Map[TDestination](Object source) in C:\projects\automapper\src\AutoMapper\Mapper.cs:line 211
   at ConsultorioMedERP.UsuarioMicroService.Domain.Service.GenericService`2.GetAll() in E:\Source\Repos\ConsultorioMedERP\ConsultorioMedERP.UsuarioMicroService\ConsultorioMedERP.UsuarioMicroService.Domain\Service\Generic\GenericService.cs:line 29
   at JWT.Controllers.TokenController.Authenticate(LoginModel login) in E:\Source\Repos\ConsultorioMedERP\ConsultorioMedERP.UsuarioMicroService\ConsultorioMedERP.UsuarioMicroService.Api\Controllers\TokenController.cs:line 78
   at JWT.Controllers.TokenController.Create(LoginModel login) in E:\Source\Repos\ConsultorioMedERP\ConsultorioMedERP.UsuarioMicroService\ConsultorioMedERP.UsuarioMicroService.Api\Controllers\TokenController.cs:line 35
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
===> 2019-08-06 14:55:41.201 -07:00 [Debug] Connection id ""0HLOQN2RETREU"" completed keep alive response.
===> 2019-08-06 14:55:41.202 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:55:43.231 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:55:43.231 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:55:43.232 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:55:43.232 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:55:43.232 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:55:43.237 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:55:43.237 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:55:43.237 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:55:43.238 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:55:43.238 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:55:43.238 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:55:43.239 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:55:43.239 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:55:43.240 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:55:43.240 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:55:43.240 -07:00 [Debug] Connection id ""0HLOQN2RETREV"", Request id ""0HLOQN2RETREV:00000003"": started reading request body.
===> 2019-08-06 14:55:43.241 -07:00 [Debug] Connection id ""0HLOQN2RETREV"", Request id ""0HLOQN2RETREV:00000003"": done reading request body.
===> 2019-08-06 14:55:43.241 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:55:43.241 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:55:43.245 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:55:47.932 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:57:00.819 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:57:00.819 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:57:00.821 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 14:57:00.823 -07:00 [Error] Failed executing DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:57:00.826 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:57:00.826 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:57:00.828 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 14:58:53.751 -07:00 [Information] Starting web host
===> 2019-08-06 14:58:54.011 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 14:58:54.042 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 14:58:54.076 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 14:58:54.101 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 14:58:54.148 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:58:54.152 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 14:58:54.156 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 14:58:54.165 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 14:58:54.171 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 14:58:54.186 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 14:58:54.188 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 14:58:54.242 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 14:58:54.287 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 14:58:54.288 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:58:54.288 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 14:58:54.288 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 14:58:54.288 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 14:58:54.288 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 14:58:54.289 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 14:58:54.289 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 14:58:54.318 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:58:54.318 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:58:54.318 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 14:58:54.325 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:58:54.325 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:58:54.325 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 14:58:54.346 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 14:58:54.458 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:58:54.458 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 14:58:54.538 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 14:58:55.048 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 14:58:55.141 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 14:58:56.711 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:58:56.991 -07:00 [Debug] Migrating using database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:57.131 -07:00 [Debug] Opening connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:57.995 -07:00 [Debug] Opened connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:58.030 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE DATABASE \"ddddConsultorioMedERP\";"
===> 2019-08-06 14:58:59.557 -07:00 [Information] Executed DbCommand ("1,513"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE DATABASE \"ddddConsultorioMedERP\";"
===> 2019-08-06 14:58:59.571 -07:00 [Debug] Closing connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:59.591 -07:00 [Debug] Closed connection to database '"postgres"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:59.617 -07:00 [Debug] Opening connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:59.755 -07:00 [Debug] Opened connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:59.755 -07:00 [Debug] Closing connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:59.761 -07:00 [Debug] Closed connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:58:59.971 -07:00 [Debug] DetectChanges starting for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 14:58:59.982 -07:00 [Debug] DetectChanges completed for '"UsuarioMicroServiceContext"'.
===> 2019-08-06 14:59:00.040 -07:00 [Debug] Opening connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.040 -07:00 [Debug] Opened connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.040 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"__EFMigrationsHistory\" (
    \"MigrationId\" character varying(150) NOT NULL,
    \"ProductVersion\" character varying(32) NOT NULL,
    CONSTRAINT \"PK___EFMigrationsHistory\" PRIMARY KEY (\"MigrationId\")
);"
===> 2019-08-06 14:59:00.059 -07:00 [Information] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"__EFMigrationsHistory\" (
    \"MigrationId\" character varying(150) NOT NULL,
    \"ProductVersion\" character varying(32) NOT NULL,
    CONSTRAINT \"PK___EFMigrationsHistory\" PRIMARY KEY (\"MigrationId\")
);"
===> 2019-08-06 14:59:00.060 -07:00 [Debug] Closing connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.060 -07:00 [Debug] Closed connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.116 -07:00 [Debug] Opening connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.116 -07:00 [Debug] Opened connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.116 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:59:00.137 -07:00 [Information] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 14:59:00.138 -07:00 [Debug] Closing connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.138 -07:00 [Debug] Closed connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.140 -07:00 [Debug] Opening connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.140 -07:00 [Debug] Opened connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.140 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:59:00.141 -07:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 14:59:00.143 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 14:59:00.144 -07:00 [Debug] Closing connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.144 -07:00 [Debug] Closed connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.152 -07:00 [Information] Applying migration '"20180708205028_InitialCreate"'.
===> 2019-08-06 14:59:00.396 -07:00 [Debug] Opening connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.397 -07:00 [Debug] Opened connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.408 -07:00 [Debug] Beginning transaction with isolation level '"ReadCommitted"'.
===> 2019-08-06 14:59:00.410 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Accounts\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"Name\" character varying(30) NOT NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsTrial\" boolean NOT NULL,
    \"IsActive\" boolean NOT NULL,
    \"SetActive\" timestamp without time zone NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Accounts\" PRIMARY KEY (\"Id\")
);"
===> 2019-08-06 14:59:00.424 -07:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Accounts\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"Name\" character varying(30) NOT NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsTrial\" boolean NOT NULL,
    \"IsActive\" boolean NOT NULL,
    \"SetActive\" timestamp without time zone NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Accounts\" PRIMARY KEY (\"Id\")
);"
===> 2019-08-06 14:59:00.424 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Users\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"FirstName\" character varying(20) NOT NULL,
    \"LastName\" character varying(20) NOT NULL,
    \"UserName\" character varying(30) NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsAdminRole\" boolean NOT NULL,
    \"Roles\" character varying(255) NULL,
    \"IsActive\" boolean NOT NULL,
    \"Password\" character varying(255) NULL,
    \"AccountId\" integer NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Users\" PRIMARY KEY (\"Id\"),
    CONSTRAINT \"FK_Users_Accounts_AccountId\" FOREIGN KEY (\"AccountId\") REFERENCES \"Accounts\" (\"Id\") ON DELETE CASCADE
);"
===> 2019-08-06 14:59:00.442 -07:00 [Information] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Users\" (
    \"Id\" integer NOT NULL,
    \"Created\" timestamp without time zone NOT NULL,
    \"Modified\" timestamp without time zone NOT NULL,
    \"FirstName\" character varying(20) NOT NULL,
    \"LastName\" character varying(20) NOT NULL,
    \"UserName\" character varying(30) NULL,
    \"Email\" character varying(30) NOT NULL,
    \"Description\" character varying(255) NULL,
    \"IsAdminRole\" boolean NOT NULL,
    \"Roles\" character varying(255) NULL,
    \"IsActive\" boolean NOT NULL,
    \"Password\" character varying(255) NULL,
    \"AccountId\" integer NOT NULL,
    \"RowVersion\" bytea NULL,
    CONSTRAINT \"PK_Users\" PRIMARY KEY (\"Id\"),
    CONSTRAINT \"FK_Users_Accounts_AccountId\" FOREIGN KEY (\"AccountId\") REFERENCES \"Accounts\" (\"Id\") ON DELETE CASCADE
);"
===> 2019-08-06 14:59:00.442 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Users_AccountId\" ON \"Users\" (\"AccountId\");"
===> 2019-08-06 14:59:00.447 -07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Users_AccountId\" ON \"Users\" (\"AccountId\");"
===> 2019-08-06 14:59:00.447 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")
VALUES ('20180708205028_InitialCreate', '2.2.1-servicing-10028');"
===> 2019-08-06 14:59:00.448 -07:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")
VALUES ('20180708205028_InitialCreate', '2.2.1-servicing-10028');"
===> 2019-08-06 14:59:00.466 -07:00 [Debug] Committing transaction.
===> 2019-08-06 14:59:00.469 -07:00 [Debug] Disposing transaction.
===> 2019-08-06 14:59:00.469 -07:00 [Debug] Closing connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.469 -07:00 [Debug] Closed connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:00.472 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 14:59:00.706 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 14:59:01.095 -07:00 [Debug] Connection id ""0HLOQN551KTG2"" started.
===> 2019-08-06 14:59:01.305 -07:00 [Debug] Connection id ""0HLOQN551KTG3"" started.
===> 2019-08-06 14:59:01.383 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:59:01.383 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 14:59:01.606 -07:00 [Debug] Connection id ""0HLOQN551KTG3"" completed keep alive response.
===> 2019-08-06 14:59:01.614 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:59:02.008 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:59:02.377 -07:00 [Debug] Connection id ""0HLOQN551KTG2"" completed keep alive response.
===> 2019-08-06 14:59:02.813 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:59:02.813 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 14:59:03.026 -07:00 [Debug] Connection id ""0HLOQN551KTG3"" completed keep alive response.
===> 2019-08-06 14:59:08.387 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 14:59:08.405 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 14:59:08.409 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 14:59:08.409 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 14:59:08.427 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 14:59:08.585 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 14:59:08.589 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 14:59:08.593 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:59:08.594 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 14:59:08.596 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 14:59:08.598 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 14:59:08.654 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 14:59:08.665 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 14:59:08.667 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:59:08.676 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 14:59:08.728 -07:00 [Debug] Connection id ""0HLOQN551KTG2"", Request id ""0HLOQN551KTG2:00000002"": started reading request body.
===> 2019-08-06 14:59:08.768 -07:00 [Debug] Connection id ""0HLOQN551KTG2"", Request id ""0HLOQN551KTG2:00000002"": done reading request body.
===> 2019-08-06 14:59:08.881 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 14:59:08.882 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 14:59:08.942 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 14:59:11.819 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 14:59:13.364 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:59:13.397 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 14:59:13.693 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"NOMBRE\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.NOMBRE)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 14:59:13.745 -07:00 [Debug] Opening connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:13.746 -07:00 [Debug] Opened connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:13.753 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 14:59:13.757 -07:00 [Error] Failed executing DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 14:59:13.805 -07:00 [Debug] Closing connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:13.805 -07:00 [Debug] Closed connection to database '"ddddConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 14:59:13.813 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 15:01:41.460 -07:00 [Information] Starting web host
===> 2019-08-06 15:01:41.922 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 15:01:41.962 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 15:01:42.002 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 15:01:42.030 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 15:01:42.079 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 15:01:42.084 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 15:01:42.090 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 15:01:42.098 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 15:01:42.105 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 15:01:42.120 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 15:01:42.122 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 15:01:42.200 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 15:01:42.260 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 15:01:42.260 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 15:01:42.260 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 15:01:42.260 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 15:01:42.261 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 15:01:42.261 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 15:01:42.261 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 15:01:42.261 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 15:01:42.299 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:01:42.299 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:01:42.299 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:01:42.321 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:01:42.322 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:01:42.322 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:01:42.373 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 15:01:42.496 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 15:01:42.496 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 15:01:42.569 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 15:01:43.156 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 15:01:43.287 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 15:01:44.903 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 15:01:46.048 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.194 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.204 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 15:01:46.243 -07:00 [Information] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 15:01:46.246 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.265 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.319 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.319 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.320 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 15:01:46.324 -07:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 15:01:46.327 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 15:01:46.327 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.327 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:46.341 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 15:01:46.462 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 15:01:46.772 -07:00 [Debug] Connection id ""0HLOQN6MDE15T"" started.
===> 2019-08-06 15:01:46.913 -07:00 [Debug] Connection id ""0HLOQN6MDE15U"" started.
===> 2019-08-06 15:01:47.011 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 15:01:47.011 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 15:01:47.210 -07:00 [Debug] Connection id ""0HLOQN6MDE15U"" completed keep alive response.
===> 2019-08-06 15:01:47.212 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:01:47.558 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 15:01:47.926 -07:00 [Debug] Connection id ""0HLOQN6MDE15T"" completed keep alive response.
===> 2019-08-06 15:01:48.314 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:01:48.315 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 15:01:48.508 -07:00 [Debug] Connection id ""0HLOQN6MDE15U"" completed keep alive response.
===> 2019-08-06 15:01:53.734 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:01:53.750 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 15:01:53.756 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 15:01:53.756 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 15:01:53.769 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 15:01:53.883 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 15:01:53.885 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 15:01:53.886 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 15:01:53.887 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 15:01:53.888 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 15:01:53.888 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 15:01:53.978 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 15:01:54.007 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 15:01:54.012 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 15:01:54.026 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 15:01:54.101 -07:00 [Debug] Connection id ""0HLOQN6MDE15T"", Request id ""0HLOQN6MDE15T:00000002"": started reading request body.
===> 2019-08-06 15:01:54.147 -07:00 [Debug] Connection id ""0HLOQN6MDE15T"", Request id ""0HLOQN6MDE15T:00000002"": done reading request body.
===> 2019-08-06 15:01:54.221 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 15:01:54.223 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 15:01:54.316 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 15:01:56.379 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 15:01:57.320 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 15:01:57.368 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 15:01:57.625 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"NOMBRE\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.NOMBRE)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 15:01:57.649 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:57.649 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:57.654 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 15:01:57.661 -07:00 [Error] Failed executing DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 15:01:57.706 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:57.706 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:01:57.717 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 15:08:17.505 -07:00 [Information] Starting web host
===> 2019-08-06 15:08:17.988 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 15:08:18.065 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 15:08:18.125 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 15:08:18.155 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 15:08:18.218 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 15:08:18.222 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 15:08:18.226 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 15:08:18.235 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 15:08:18.242 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 15:08:18.258 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 15:08:18.264 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 15:08:18.355 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 15:08:18.436 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 15:08:18.437 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 15:08:18.437 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 15:08:18.438 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 15:08:18.438 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 15:08:18.438 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 15:08:18.439 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 15:08:18.440 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 15:08:18.521 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:08:18.522 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:08:18.522 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:08:18.536 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:08:18.536 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:08:18.536 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:08:18.566 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 15:08:18.626 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 15:08:18.626 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 15:08:18.692 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 15:08:19.289 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 15:08:19.364 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 15:08:20.561 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 15:08:21.521 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.601 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.608 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 15:08:21.635 -07:00 [Information] Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 15:08:21.637 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.641 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.659 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.659 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.659 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 15:08:21.663 -07:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 15:08:21.666 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 15:08:21.666 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.667 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:08:21.676 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 15:08:21.850 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 15:08:22.154 -07:00 [Debug] Connection id ""0HLOQNAC8A158"" started.
===> 2019-08-06 15:08:22.290 -07:00 [Debug] Connection id ""0HLOQNAC8A159"" started.
===> 2019-08-06 15:08:22.426 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 15:08:22.426 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 15:08:22.581 -07:00 [Debug] Connection id ""0HLOQNAC8A158"" completed keep alive response.
===> 2019-08-06 15:08:22.592 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:08:22.974 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 15:08:23.307 -07:00 [Debug] Connection id ""0HLOQNAC8A159"" completed keep alive response.
===> 2019-08-06 15:08:23.858 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:08:23.868 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 15:08:24.105 -07:00 [Debug] Connection id ""0HLOQNAC8A158"" completed keep alive response.
===> 2019-08-06 15:09:30.626 -07:00 [Debug] Connection id ""0HLOQNAC8A15A"" started.
===> 2019-08-06 15:09:30.640 -07:00 [Debug] Connection id ""0HLOQNAC8A159"" received FIN.
===> 2019-08-06 15:09:30.641 -07:00 [Debug] Connection id ""0HLOQNAC8A158"" received FIN.
===> 2019-08-06 15:09:30.641 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:09:30.651 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 15:09:30.653 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 15:09:30.653 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 15:09:30.654 -07:00 [Debug] Connection id ""0HLOQNAC8A159"" disconnecting.
===> 2019-08-06 15:09:30.655 -07:00 [Debug] Connection id ""0HLOQNAC8A158"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 15:09:30.657 -07:00 [Debug] Connection id ""0HLOQNAC8A158"" disconnecting.
===> 2019-08-06 15:09:30.664 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 15:09:30.672 -07:00 [Debug] Connection id ""0HLOQNAC8A158"" stopped.
===> 2019-08-06 15:09:30.679 -07:00 [Debug] Connection id ""0HLOQNAC8A159"" sending FIN because: ""The client closed the connection.""
===> 2019-08-06 15:09:30.679 -07:00 [Debug] Connection id ""0HLOQNAC8A159"" stopped.
===> 2019-08-06 15:09:30.776 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 15:09:30.779 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 15:09:30.780 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 15:09:30.781 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 15:09:30.783 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 15:09:30.784 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 15:09:30.837 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 15:09:30.848 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 15:09:30.850 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 15:09:30.859 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 15:09:30.892 -07:00 [Debug] Connection id ""0HLOQNAC8A15A"", Request id ""0HLOQNAC8A15A:00000001"": started reading request body.
===> 2019-08-06 15:09:30.912 -07:00 [Debug] Connection id ""0HLOQNAC8A15A"", Request id ""0HLOQNAC8A15A:00000001"": done reading request body.
===> 2019-08-06 15:09:30.962 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 15:09:30.965 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 15:09:31.065 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 15:09:33.550 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 15:09:34.638 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 15:09:34.680 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 15:09:34.918 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"NOMBRE\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.NOMBRE)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 15:09:34.960 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:09:34.960 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:09:34.971 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 15:09:34.992 -07:00 [Error] Failed executing DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 15:09:35.114 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:09:35.114 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:09:35.131 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
===> 2019-08-06 15:10:32.597 -07:00 [Information] Starting web host
===> 2019-08-06 15:10:32.883 -07:00 [Information] User profile not available. Using '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"' as key repository and Windows DPAPI to encrypt keys at rest.
===> 2019-08-06 15:10:32.915 -07:00 [Debug] Reading data from registry key '"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-1582668102-4032286615-1010648770-3246149579-1932448247\DataProtection"', value '"key-00b30dfd-315e-4959-a5d7-40fc2d576189"'.
===> 2019-08-06 15:10:32.943 -07:00 [Debug] Found key {00b30dfd-315e-4959-a5d7-40fc2d576189}.
===> 2019-08-06 15:10:32.966 -07:00 [Debug] Considering key {00b30dfd-315e-4959-a5d7-40fc2d576189} with expiration date 2019-11-04 19:43:19Z as default key.
===> 2019-08-06 15:10:33.019 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 15:10:33.022 -07:00 [Debug] Decrypting secret element using Windows DPAPI.
===> 2019-08-06 15:10:33.026 -07:00 [Debug] Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=2.2.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
===> 2019-08-06 15:10:33.035 -07:00 [Debug] Opening CNG algorithm '"AES"' from provider 'null' with chaining mode CBC.
===> 2019-08-06 15:10:33.041 -07:00 [Debug] Opening CNG algorithm '"SHA256"' from provider 'null' with HMAC.
===> 2019-08-06 15:10:33.057 -07:00 [Debug] Using key {00b30dfd-315e-4959-a5d7-40fc2d576189} as the default key.
===> 2019-08-06 15:10:33.059 -07:00 [Debug] Key ring with default key {00b30dfd-315e-4959-a5d7-40fc2d576189} was loaded during application startup.
===> 2019-08-06 15:10:33.134 -07:00 [Debug] Compatibility switch "AllowInputFormatterExceptionMessages" in type "MvcJsonOptions" is using default value False
===> 2019-08-06 15:10:33.182 -07:00 [Debug] Compatibility switch "AllowCombiningAuthorizeFilters" in type "MvcOptions" is using default value False
===> 2019-08-06 15:10:33.182 -07:00 [Debug] Compatibility switch "AllowBindingHeaderValuesToNonStringModelTypes" in type "MvcOptions" is using default value False
===> 2019-08-06 15:10:33.182 -07:00 [Debug] Compatibility switch "AllowValidatingTopLevelNodes" in type "MvcOptions" is using default value False
===> 2019-08-06 15:10:33.182 -07:00 [Debug] Compatibility switch "InputFormatterExceptionPolicy" in type "MvcOptions" is using default value AllExceptions
===> 2019-08-06 15:10:33.182 -07:00 [Debug] Compatibility switch "SuppressBindingUndefinedValueToEnumType" in type "MvcOptions" is using default value False
===> 2019-08-06 15:10:33.182 -07:00 [Debug] Compatibility switch "EnableEndpointRouting" in type "MvcOptions" is using default value False
===> 2019-08-06 15:10:33.183 -07:00 [Debug] Compatibility switch "MaxValidationDepth" in type "MvcOptions" is using default value null
===> 2019-08-06 15:10:33.183 -07:00 [Debug] Compatibility switch "AllowShortCircuitingValidationWhenNoValidatorsArePresent" in type "MvcOptions" is using default value False
===> 2019-08-06 15:10:33.208 -07:00 [Debug] Compatibility switch "SuppressMapClientErrors" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:10:33.208 -07:00 [Debug] Compatibility switch "SuppressUseValidationProblemDetailsForInvalidModelStateResponses" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:10:33.208 -07:00 [Debug] Compatibility switch "AllowInferringBindingSourceForCollectionTypesAsFromQuery" in type "ApiBehaviorOptions" is using compatibility value True for version Version_2_0
===> 2019-08-06 15:10:33.220 -07:00 [Debug] Compatibility switch "AllowAreas" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:10:33.221 -07:00 [Debug] Compatibility switch "AllowMappingHeadRequestsToGetHandler" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:10:33.221 -07:00 [Debug] Compatibility switch "AllowDefaultHandlingForOptionsRequests" in type "RazorPagesOptions" is using default value False
===> 2019-08-06 15:10:33.240 -07:00 [Debug] Compatibility switch "AllowRecompilingViewsOnFileChange" in type "RazorViewEngineOptions" is using explicitly configured value True
===> 2019-08-06 15:10:33.311 -07:00 [Debug] Compatibility switch "SuppressTempDataAttributePrefix" in type "MvcViewOptions" is using default value False
===> 2019-08-06 15:10:33.311 -07:00 [Debug] Compatibility switch "AllowRenderingMaxLengthAttribute" in type "MvcViewOptions" is using default value False
===> 2019-08-06 15:10:33.383 -07:00 [Debug] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexTypeModelBinderProvider"]
===> 2019-08-06 15:10:34.039 -07:00 [Debug] An 'IServiceProvider' was created for internal use by Entity Framework.
===> 2019-08-06 15:10:34.142 -07:00 [Debug] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: "configuration added for 'Proxies:UseLazyLoadingProxies'".
===> 2019-08-06 15:10:35.419 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 15:10:36.443 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.541 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.553 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 15:10:36.587 -07:00 [Information] Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');"
===> 2019-08-06 15:10:36.591 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.596 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.629 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.629 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.629 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 15:10:36.636 -07:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
===> 2019-08-06 15:10:36.643 -07:00 [Debug] A data reader was disposed.
===> 2019-08-06 15:10:36.643 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.643 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:10:36.673 -07:00 [Debug] '"UsuarioMicroServiceContext"' disposed.
===> 2019-08-06 15:10:36.850 -07:00 [Debug] Failed to locate the development https certificate at 'null'.
===> 2019-08-06 15:10:37.091 -07:00 [Debug] Connection id ""0HLOQNBKF8Q7G"" started.
===> 2019-08-06 15:10:37.264 -07:00 [Debug] Connection id ""0HLOQNBKF8Q7H"" started.
===> 2019-08-06 15:10:37.364 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 15:10:37.364 -07:00 [Debug] Wildcard detected, all requests with hosts will be allowed.
===> 2019-08-06 15:10:37.536 -07:00 [Debug] Connection id ""0HLOQNBKF8Q7G"" completed keep alive response.
===> 2019-08-06 15:10:37.543 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:10:37.925 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 15:10:38.280 -07:00 [Debug] Connection id ""0HLOQNBKF8Q7H"" completed keep alive response.
===> 2019-08-06 15:10:38.921 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:10:38.922 -07:00 [Debug] Request did not match any routes
===> 2019-08-06 15:10:39.202 -07:00 [Debug] Connection id ""0HLOQNBKF8Q7G"" completed keep alive response.
===> 2019-08-06 15:11:23.421 -07:00 [Debug] AuthenticationScheme: "Bearer" was not authenticated.
===> 2019-08-06 15:11:23.440 -07:00 [Warning] The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported.
===> 2019-08-06 15:11:23.443 -07:00 [Debug] The request has an origin header: '"http://consultoriomederp.usuariomicroservicio:50001"'.
===> 2019-08-06 15:11:23.444 -07:00 [Information] CORS policy execution successful.
===> 2019-08-06 15:11:23.456 -07:00 [Debug] Request successfully matched the route with name 'null' and template '"api/Token"'
===> 2019-08-06 15:11:23.566 -07:00 [Information] Route matched with "{action = \"Create\", controller = \"Token\"}". Executing action "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)"
===> 2019-08-06 15:11:23.568 -07:00 [Debug] Execution plan of "authorization" filters (in the following order): ["None"]
===> 2019-08-06 15:11:23.570 -07:00 [Debug] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 15:11:23.571 -07:00 [Debug] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Internal.ControllerActionFilter (Order: -2147483648)", "Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
===> 2019-08-06 15:11:23.571 -07:00 [Debug] Execution plan of "exception" filters (in the following order): ["None"]
===> 2019-08-06 15:11:23.572 -07:00 [Debug] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.SaveTempDataFilter"]
===> 2019-08-06 15:11:23.624 -07:00 [Debug] Attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"' ...
===> 2019-08-06 15:11:23.639 -07:00 [Debug] Attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""' in request data ...
===> 2019-08-06 15:11:23.642 -07:00 [Debug] Rejected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonPatchInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 15:11:23.655 -07:00 [Debug] Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.JsonInputFormatter"' for content type '"application/json-patch+json"'.
===> 2019-08-06 15:11:23.688 -07:00 [Debug] Connection id ""0HLOQNBKF8Q7H"", Request id ""0HLOQNBKF8Q7H:00000002"": started reading request body.
===> 2019-08-06 15:11:23.717 -07:00 [Debug] Connection id ""0HLOQNBKF8Q7H"", Request id ""0HLOQNBKF8Q7H:00000002"": done reading request body.
===> 2019-08-06 15:11:23.778 -07:00 [Debug] Done attempting to bind model of type '"JWT.Controllers.TokenController+LoginModel"' using the name '""'.
===> 2019-08-06 15:11:23.781 -07:00 [Debug] Done attempting to bind parameter '"login"' of type '"JWT.Controllers.TokenController+LoginModel"'.
===> 2019-08-06 15:11:23.871 -07:00 [Information] Executing action method "JWT.Controllers.TokenController.Create (ConsultorioMedERP.UsuarioMicroService.Api)" with arguments (["JWT.Controllers.TokenController+LoginModel"]) - Validation state: Valid
===> 2019-08-06 15:11:27.516 -07:00 [Information] Entity Framework Core "2.2.1-servicing-10028" initialized '"UsuarioMicroServiceContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "using lazy-loading proxies "
===> 2019-08-06 15:11:41.755 -07:00 [Debug] Compiling query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 15:11:41.819 -07:00 [Debug] Optimized query model: "
"'"from Usuario <generated>_0 in DbSet<Usuario>
select [<generated>_0]"'
===> 2019-08-06 15:11:42.136 -07:00 [Debug] "(QueryContext queryContext) => IEnumerable<Usuario> _InterceptExceptions(
|__ source: IEnumerable<Usuario> _TrackEntities(
|   |__ results: IEnumerable<Usuario> _ShapedQuery(
|   |   |__ queryContext: queryContext, 
|   |   |__ shaperCommandContext: SelectExpression: 
|   |   |       SELECT u.\"ID\", u.\"NOMBRE\"
|   |   |       FROM public.\"USUARIO\" AS u, 
|   |   |__ shaper: (MaterializationContext materializationContext) => 
|   |       {
|   |           instance = (UsuarioProxy)object ProxyFactory.CreateLazyLoadingProxy(
|   |           |__ entityType: EntityType: Usuario, 
|   |           |__ loader: ILazyLoader GetService((IInfrastructure<IServiceProvider>)materializationContext.Context), 
|   |           |__ constructorArguments: new object[]{ })
|   |           instance.<Id>k__BackingField = int TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 0, Usuario.Id)
|   |           instance.<NOMBRE>k__BackingField = string TryReadValue(ValueBuffer materializationContext.get_ValueBuffer(), 1, Usuario.NOMBRE)
|   |           return instance
|   |       }), 
|   |__ queryContext: queryContext, 
|   |__ entityTrackingInfos: { itemType: Usuario }, 
|   |__ entityAccessors: List<Func<Usuario, object>> 
|       { 
|           Func<Usuario, Usuario>, 
|       }), 
|__ contextType: ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext, 
|__ logger: DiagnosticsLogger<Query>, 
|__ queryContext: queryContext)"
===> 2019-08-06 15:11:42.157 -07:00 [Debug] Opening connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:11:42.157 -07:00 [Debug] Opened connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:11:42.162 -07:00 [Debug] Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
===> 2019-08-06 15:11:42.171 -07:00 [Error] Failed executing DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"ID\", u.\"NOMBRE\"
FROM public.\"USUARIO\" AS u"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
===> 2019-08-06 15:11:42.235 -07:00 [Debug] Closing connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:11:42.235 -07:00 [Debug] Closed connection to database '"ConsultorioMedERP"' on server '"tcp://localhost:5432"'.
===> 2019-08-06 15:11:42.250 -07:00 [Error] An exception occurred while iterating over the results of a query for context type '"ConsultorioMedERP.UsuarioMicroService.Entity.Context.UsuarioMicroServiceContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"public.USUARIO\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()"
Npgsql.PostgresException (0x80004005): 42P01: relation "public.USUARIO" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass161_0.<<ReadMessage>g__ReadMessageLong|0>d.MoveNext() in C:\projects\npgsql\src\Npgsql\NpgsqlConnector.cs:line 1032
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming) in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 444
   at Npgsql.NpgsqlDataReader.NextResult() in C:\projects\npgsql\src\Npgsql\NpgsqlDataReader.cs:line 332
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1218
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\npgsql\src\Npgsql\NpgsqlCommand.cs:line 1130
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded) in C:\projects\npgsql-entityframeworkcore-postgresql\src\EFCore.PG\Storage\Internal\NpgsqlExecutionStrategy.cs:line 28
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
